{"version":3,"file":"./dist/med.min.js","sources":["./dist/med.js"],"names":["window","Emitter","this","events","Caret","editor","Middleware","middleware","Data","id","modified","data","tmp","Observe","structure","HtmlBuilder","Editor","options","call","utils","mixin","Object","create","defaultOptions","context","el","document","createElement","setAttribute","classList","add","caret","bindEvents","handleEmpty","use","initContext","module","exports","define","amd","Med","getTextContent","node","text","nodeType","ELEMENT_NODE","textContent","innerText","TEXT_NODE","isEmpty","isTag","trim","isNotEmpty","tagName","toUpperCase","str","map","indexOf","isLastChild","parentELement","lastChild","removeEmptyElements","each","children","child","removeChild","removeElement","parentElement","moveChildren","src","dest","Array","prototype","slice","appendChild","moveChildNodes","nodes","childNodes","isType","types","s","getElementSchema","type","isElementNode","isTextNode","isAncestorOf","ancestor","chlidNodes","shift","nodeContentLength","length","o1","o2","getOwnPropertyNames","forEach","name","desc","getOwnPropertyDescriptor","defineProperty","preventDefault","e","returnValue","os","userAgent","navigator","test","ctx","fn","isArrayLike","obj","split","separator","limit","re","RegExp","replace","clone","JSON","parse","stringify","equal","a","b","sort","join","prop","notEqual","hasOwnProperty","getType","schema","toLowerCase","keyboard","modifiers",224,91,93,18,17,16,8,9,13,20,27,32,37,38,39,40,"super","createNewParagraph","next","needToCreateElement","key","section","focusSection","element","atElementEnd","prevent","insertBefore","nextSibling","focusTo","handleBackspace","shouldHandleBackspace","selection","getSelection","atElementStart","needToRemove","offset","firstChild","previous","previousElementSibling","focus","moveToEnd","moveToStart","previousSibling","previousIsBrTag","handleList","p","paragraphs","setTimeout","innerHTML","handleParagraph","shouldHandleThis","modifier","isCreateNewLineAction","createNewLine","event","code","keyCode","which","mod","ctrl","ctrlKey","option","alt","altKey","shiftKey","command","meta","metaKey","focusNode","focusElement","nextElement","paragraph","focusParagraph","focusParagraphs","detail","focusDetail","els","querySelectorAll","body","handleEmptyParagraph","on","removeExtraNodes","removeExtraNode","curr","prev","len","appendData","parentNode","removeInlineStyle","renameElements","names","h1","h2","h3","h4","h5","h6","blockquote","quoteTpye","figure","figureType","content","ol","ul","li","href","title","i","br","keys","tag","attrs","attrName","attr","args","attrType","push","handler","list","once","_once","off","splice","emit","arguments","apply","focusType","elType","textBefore","focusOffset","substringData","textAfter","select","range","createRange","parentIndex","setStart","setEnd","left","extractContents","save","rangeCount","getRangeAt","_range","restore","r","startContainer","startOffset","endContainer","endOffset","removeAllRanges","addRange","selectAllText","selectNodeContents","startNode","endNode","insertElement","deleteContents","insertNode","closestElement","toString","lastNode","Error","exec","cb","compose","fns","err","bind","set","val","get","_set","last","pop","undefined","update","toJSON","sync","sections","shouldBeDelete","scan","getAttribute","checkAndRemoveStrangeElement","genName","handleUnknownElement","getOffset","start","end","attribute","dataset","createTextNode","replaceChild","beforeHTML","beforeText","check","outerHTML","substr","d","json","rules","parentType","shouldRemove","fromJSON","importData","buildHTML","docfrag","createDocumentFragment","html","createElements","container","createSections","createParagraphs","createDetails","pointer","initElement","format","c","Math","random","v","default","addEventListener","onKeydown","walk","first","remove","childContext"],"mappings":"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"}