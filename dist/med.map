{"version":3,"file":"./dist/med.min.js","sources":["./dist/med.js"],"names":["window","Emitter","this","events","Caret","editor","Middleware","middleware","Data","id","modified","data","tmp","Observe","structure","HtmlBuilder","Editor","options","call","utils","mixin","Object","create","defaultOptions","context","el","document","createElement","setAttribute","classList","add","caret","bindEvents","handleEmpty","use","initContext","module","exports","define","amd","Med","getTextContent","node","text","nodeType","ELEMENT_NODE","textContent","innerText","TEXT_NODE","isEmpty","isTag","trim","isNotEmpty","tagName","toUpperCase","str","map","indexOf","isLastChild","parentELement","lastChild","removeEmptyElements","each","children","child","removeChild","removeElement","parentElement","moveChildren","src","dest","Array","prototype","slice","appendChild","moveChildNodes","nodes","childNodes","isType","types","s","getElementSchema","type","isElementNode","isTextNode","isAncestorOf","ancestor","chlidNodes","shift","nodeContentLength","length","lastNode","lastTextNode","lastElement","firstNode","firstTextNode","firstElement","isLastElementOf","container","isFirstElementOf","o1","o2","getOwnPropertyNames","forEach","name","desc","getOwnPropertyDescriptor","defineProperty","preventDefault","e","returnValue","os","userAgent","navigator","test","ctx","fn","isArrayLike","obj","split","separator","limit","re","RegExp","replace","clone","JSON","parse","stringify","equal","a","b","sort","join","prop","notEqual","hasOwnProperty","getType","schema","toLowerCase","keyboard","modifiers",224,91,93,18,17,16,8,9,13,20,27,32,37,38,39,40,"super","createNewParagraph","next","needToCreateElement","key","section","focusSection","element","atElementEnd","prevent","insertBefore","nextSibling","focusTo","handleBackspace","shouldHandleBackspace","selection","getSelection","paragraph","atElementStart","handleList","paragraphs","p","moveToStart","handleOthers","needToRemove","offset","firstChild","previous","previousElementSibling","focus","moveToEnd","previousSibling","previousIsBrTag","handleBlockquote","innerHTML","setTimeout","handleParagraph","shouldHandleThis","modifier","isCreateNewLineAction","createNewLine","event","code","keyCode","which","mod","ctrl","ctrlKey","option","alt","altKey","shiftKey","command","meta","metaKey","focusNode","focusElement","nextElement","focusParagraph","focusParagraphs","detail","focusDetail","els","querySelectorAll","body","handleEmptyParagraph","on","removeExtraNodes","removeExtraNode","curr","prev","len","__removeExtraNode__focus","__removeExtraNode__offset","appendData","parentNode","select","removeInlineStyle","renameElements","names","h1","h2","h3","h4","h5","h6","blockquote","quoteTpye","figure","figureType","content","ol","ul","li","href","title","i","br","keys","tag","attrs","attrName","attr","args","attrType","push","handler","list","once","_once","off","splice","emit","arguments","apply","focusType","elType","textBefore","focusOffset","substringData","textAfter","range","createRange","setStart","setEnd","removeAllRanges","addRange","collapseToStart","collapseToEnd","parentIndex","left","extractContents","save","rangeCount","getRangeAt","_range","restore","r","startContainer","startOffset","endContainer","endOffset","selectAllText","selectNodeContents","startNode","endNode","insertElement","deleteContents","insertNode","closestElement","toString","Error","exec","cb","compose","fns","err","bind","set","val","get","_set","last","pop","undefined","update","toJSON","sync","sections","shouldBeDelete","scan","getAttribute","checkAndRemoveStrangeElement","genName","handleUnknownElement","getOffset","start","end","attribute","dataset","createTextNode","replaceChild","beforeHTML","beforeText","check","outerHTML","substr","d","json","rules","parentType","shouldRemove","fromJSON","importData","buildHTML","docfrag","createDocumentFragment","html","createElements","createSections","createParagraphs","createDetails","pointer","initElement","format","c","Math","random","v","default","addEventListener","onKeydown","walk","first","remove"],"mappings":"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"}