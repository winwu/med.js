{"version":3,"file":"./dist/med.min.js","sources":["./dist/med.js"],"names":["window","Emitter","this","events","Caret","editor","Middleware","middleware","Data","id","modified","data","tmp","Observe","structure","HtmlBuilder","Editor","options","call","utils","mixin","Object","create","defaultOptions","context","el","document","createElement","setAttribute","classList","add","caret","bindEvents","handleEmpty","use","middlewares","init","module","exports","define","amd","Med","o1","o2","getOwnPropertyNames","forEach","name","desc","getOwnPropertyDescriptor","defineProperty","preventEvent","e","preventDefault","returnValue","os","userAgent","navigator","test","each","ctx","fn","length","Array","prototype","split","separator","limit","re","RegExp","replace","map","str","clone","obj","Date","copy","setTime","getTime","slice","attr","hasOwnProperty","keyboard","modifiers",224,91,93,18,17,16,8,9,13,20,27,32,37,38,39,40,"super","next","event","code","keyCode","which","mod","ctrl","ctrlKey","option","alt","altKey","shift","shiftKey","command","meta","metaKey","key","element","focusElement","section","focusSection","paragraph","focusParagraph","paragraphs","focusParagraphs","detail","focusDetail","isEmpty","prevent","els","querySelectorAll","parentElement","removeChild","p","addEventListener","textContent","innerText","trim","innerHTML","tagName","currentSection","appendChild","insertBefore","nextSibling","moveToStart","walker","setTimeout","names","getAttribute","bind","schema","type","h1","text","h2","h3","h4","h5","h6","blockquote","quoteTpye","figure","figureType","content","ol","ul","li","a","href","title","b","i","br","keys","tag","attrs","attrName","args","attrType","push","on","handler","list","once","_once","off","len","emit","arguments","apply","node","toUpperCase","getSelection","focusNode","nodeType","ELEMENT_NODE","parentNode","focusType","s","toLowerCase","focusTo","textBefore","selection","offset","focusOffset","substringData","textAfter","focus","collapse","moveToEnd","range","createRange","selectNodeContents","removeAllRanges","addRange","parentIndex","indexOf","childNodes","setStart","setEnd","left","extractContents","save","rangeCount","getRangeAt","_range","restore","r","startContainer","startOffset","endContainer","endOffset","selectAllText","insertElement","deleteContents","insertNode","Error","exec","cb","compose","fns","err","set","val","_set","last","pop","undefined","get","update","toJSON","sync","sections","shouldBeDelete","_scan","genName","children","child","handleUnknownElement","getOffset","start","end","attribute","dataset","createTextNode","replaceChild","beforeHTML","beforeText","check","outerHTML","substr","d","json","fromJSON","$paragraph","$section","querySelector","prev","$prev","initElement","createDetail","html","cursor","$detail","c","Math","random","v","toString","default","onKeydown","body","first","remove"],"mappings":"CAOC,SAAWA,GACV,YAmVF,SAASC,KACPC,KAAKC,UAgDP,QAASC,GAAMC,GACbH,KAAKG,OAASA,EAgLhB,QAASC,KACPJ,KAAKK,cA2CP,QAASC,GAAKC,GACZP,KAAKO,GAAKA,EACVP,KAAKQ,UAAW,EAChBR,KAAKS,QACLT,KAAKU,OAiEP,QAASC,KACPX,KAAKY,UAAY,KACjBZ,KAAKS,QAuOP,QAASI,MAqHT,QAASC,GAAOC,GACdhB,EAAQiB,KAAKhB,MACbI,EAAWY,KAAKhB,MAChBW,EAAQK,KAAKhB,MACba,EAAYG,KAAKhB,MAEjBA,KAAKe,QAAUE,EAAMC,MAAMC,OAAOC,OAAOC,GAAiBN,GAC1Df,KAAKsB,WACLtB,KAAKsB,QAAQnB,OAASH,IAEtB,IAAIuB,GAAKvB,KAAKe,QAAQQ,EAEjBA,KACHA,EAAKC,SAASC,cAAc,QAG9BF,EAAGG,aAAa,mBAAmB,GACnCH,EAAGI,UAAUC,IAAI,OAEjB5B,KAAKuB,GAAKA,EACVvB,KAAK6B,MAAQ,GAAI3B,GAAMF,MAEvBA,KAAK8B,aACL9B,KAAK+B,cAEL/B,KAAKgC,IAAIC,EAAYC,QA5hCD,mBAAXC,QACTA,OAAOC,QAAUtB,EACU,kBAAXuB,SAA+C,gBAAfA,QAAOC,IACvDD,OAAO,WACL,MAAOvB,KAGThB,EAAOyC,IAAMzB,CAEf,IAAIG,KAEJA,GAAMC,MAAQ,SAAUsB,EAAIC,GAO1B,MANAtB,QACGuB,oBAAoBD,GACpBE,QAAQ,SAAUC,GACjB,GAAIC,GAAO1B,OAAO2B,yBAAyBL,EAAIG,EAC/CzB,QAAO4B,eAAeP,EAAII,EAAMC,KAE7BL,GAGTvB,EAAM+B,aAAe,SAAUC,GAC7B,MAAOA,GAAEC,eACLD,EAAEC,iBACFD,EAAEE,aAAc,GAGtBlC,EAAMmC,GAAK,WACT,GAAIC,GAAYC,UAAUD,SAC1B,SAAQ,GACN,IAAK,OAAOE,KAAKF,GACf,MAAO,KACT,KAAK,OAAOE,KAAKF,GACf,MAAO,SACT,KAAK,SAASE,KAAKF,GACjB,MAAO,OACT,SACE,MAAO,YAIbpC,EAAMuC,KAAO,SAAUC,EAAKC,GAI1B,MAHmB,gBAARD,IAA0C,gBAAfA,GAAIE,QACxCC,MAAMC,UAAUlB,QAAQ3B,KAAKyC,EAAKC,GAE7BD,GAGTxC,EAAM6C,MAAQ,SAAUC,EAAWC,GACjC,GAAIC,GAAK,GAAIC,QAAO,OAASF,EAAO,IACpC,OAAOD,GACJI,QAAQF,EAAI,KACZH,MAAME,GACNI,IAAI,SAAUC,GACb,MAAOA,GAAIF,QAAQ,UAAWH,MAIpC/C,EAAMqD,MAAQ,SAAUC,GACtB,GAAI,OAASA,GAAO,gBAAoBA,GACtC,MAAOA,EAGT,IAAIA,YAAeC,MAAM,CACvB,GAAIC,GAAO,GAAID,KAEf,OADAC,GAAKC,QAAQH,EAAII,WACVF,EAGT,GAAIF,YAAeX,OACjB,MAAOW,GAAIK,OAGb,IAAIH,KAEJ,KAAK,GAAII,KAAQN,GACXA,EAAIO,eAAeD,KACrBJ,EAAKI,GAAQ5D,EAAMqD,MAAMC,EAAIM,IAIjC,OAAOJ,GAET,IAAIM,KAEJA,GAASC,WACPC,IAAK,UACLC,GAAI,UACJC,GAAI,UACJC,GAAI,MACJC,GAAI,OACJC,GAAI,SAGNP,EAASX,KACPmB,EAAG,YACHC,EAAG,MACHC,GAAI,QACJC,GAAI,WACJC,GAAI,MACJC,GAAI,QACJC,GAAI,OACJC,GAAI,KACJC,GAAI,QACJC,GAAI,QAGNjB,EAASkB,MAAuB,QAAfhF,EAAMmC,KACnB,UACA,MACJ,IAAInB,KAEJA,GAAYC,KAAO,WACjB,MAAO,UAAUgE,GACf,GAAIjD,GAAIjD,KAAKmG,MACTC,EAAOnD,EAAEoD,SAAWpD,EAAEqD,MACtBC,EAAMxB,EAASC,UAAUoB,EAE7B,KAAIG,EAAJ,CAIA,GAAIpG,GAASH,KAAKG,MAelB,IAbAH,KAAKwG,KAAOvD,EAAEwD,QACdzG,KAAK0G,OAAS1G,KAAK2G,IAAM1D,EAAE2D,OAC3B5G,KAAK6G,MAAQ5D,EAAE6D,SACf9G,KAAK+G,QAAU/G,KAAKgH,KAAO/D,EAAEgE,QAC7BjH,KAAKoG,KAAOA,EACZpG,KAAKkH,IAAMnC,EAASX,IAAIgC,GACxBpG,KAAKiG,MAAQjG,KAAK+E,EAASkB,OAC3BjG,KAAKmH,QAAUhH,EAAO0B,MAAMuF,eAC5BpH,KAAKqH,QAAUlH,EAAO0B,MAAMyF,eAC5BtH,KAAKuH,UAAYpH,EAAO0B,MAAM2F,iBAC9BxH,KAAKyH,WAAatH,EAAO0B,MAAM6F,kBAC/B1H,KAAK2H,OAASxH,EAAO0B,MAAM+F,cAEV,cAAb5H,KAAKkH,KAAuBlH,KAAKG,OAAO0H,UAE1C,WADA7H,MAAK8H,SAIP,IAAIC,GAAM5H,EAAOoB,GAAGyG,iBAAiB,8BAErCpE,OAAMC,UAAUlB,QAAQ3B,KAAK+G,EAAK,SAAUxG,GAC1CA,EAAG0G,cAAcC,YAAY3G,KAG/B2E,OAIJjE,EAAYkG,EAAI,SAAUhI,GAUxB,MARAA,GAAOoB,GAAG6G,iBAAiB,OAAQ,WACjC,GAAI7G,GAAKpB,EAAO0B,MAAMuF,aAAa,IAE/B7F,MAAQA,EAAG8G,aAAe9G,EAAG+G,WAAa,IAAIC,SAChDhH,EAAGiH,UAAY,kCAIZ,SAAUtC,GACf,GAAI3E,GAAKvB,KAAKmH,OAEd,IAAmB,YAAf5F,EAAGkH,QACL,MAAOzI,MAAK8H,SAGd,IAAmB,MAAfvG,EAAGkH,QACL,MAAOvC,IAGT,IAAiB,UAAblG,KAAKkH,MAAoBlH,KAAK6G,SAC1BtF,EAAG8G,aAAe9G,EAAG+G,WAAa,IAAIC,OAAQ,CAClDvI,KAAK8H,SAIL,IAAIT,GAAU7F,SAASC,cAAc,WACjCiH,EAAiBvI,EAAO0B,MAAMuF,aAAa,UAE/C7F,GAAGiH,UAAY,+BAEXE,GACGA,EAAeL,aAAeK,EAAeJ,WAAa,IAAIC,SACjElB,EAAQsB,YAAYpH,GACpBmH,EACGT,cACAW,aAAavB,EAASqB,EAAeG,aACxC1I,EAAO0B,MAAMiH,YAAYvH,KAM3B8F,EAAQsB,YAAYpH,GACpBpB,EAAOoB,GAAGoH,YAAYtB,GACtBlH,EAAO0B,MAAMiH,YAAYvH,IAK/B2E,MAIJjE,EAAY8G,OAAS,SAAU5I,GAC7B,MAAO,UAAU+F,GACf8C,WAAW,WACT,GAAIjB,GAAM5H,EAAOoB,GAAGyG,iBAAiB,UACjCiB,IAEJrF,OAAMC,UAAUlB,QAAQ3B,KAAK+G,EAAK,SAAUxG,GAC1C,GAAIqB,GAAOrB,EAAG2H,aAAa,OAEvBD,GAAMrG,GACRrB,EAAGG,aAAa,OAAQ,IAExBuH,EAAMrG,GAAQ,EAIhBrB,EAAGG,aAAa,QAAS,OAE3ByH,KAAKnJ,OAEPkG,KAGJ,IAAIkD,IACF/B,SACEgC,KAAM,WAGRC,IACED,KAAM,YACNE,KAAM,WAGRC,IACEH,KAAM,YACNE,KAAM,WAGRE,IACEJ,KAAM,YACNE,KAAM,WAGRG,IACEL,KAAM,YACNE,KAAM,WAGRI,IACEN,KAAM,YACNE,KAAM,WAGRK,IACEP,KAAM,YACNE,KAAM,WAGRpB,GACEkB,KAAM,YACNE,KAAM,WAGRM,YACER,KAAM,YACNE,KAAM,UACNO,UAAW,gBAGbC,QACEV,KAAM,YACNW,WAAY,eACZC,QAAS,mBAGXC,IACEb,KAAM,cAGRc,IACEd,KAAM,cAGRe,IACEf,KAAM,YACNE,KAAM,WAGRc,GACEhB,KAAM,SACNiB,KAAM,YACNC,MAAO,aAGTC,GACEnB,KAAM,UAGRoB,GACEpB,KAAM,UAGRqB,IACErB,KAAM,UAIVlI,QAAOwJ,KAAKvB,GAAQzG,QAAQ,SAAU8F,GACpC,GAAImC,GAAMxB,EAAOX,GACbY,EAAOuB,EAAIvB,KACXwB,WAEGD,GAAIvB,KAEXlI,OAAOwJ,KAAKC,GAAKjI,QAAQ,SAAUmI,GACjC,GAAIjG,GAAO+F,EAAIE,GACXC,EAAOlG,EAAKf,MAAM,KAClBkH,EAAWD,EAAKlE,OAEpBgE,GAAMI,MACJrI,KAAMmI,EAAK,IAAMD,EACjBzB,KAAM2B,EACND,KAAMA,MAIV3B,EAAOX,IACLY,KAAMA,EACNwB,MAAOA,KAOX9K,EAAQ8D,UAAUqH,GAAK,SAAU/E,EAAOgF,GACtC,GAAIC,GAAOpL,KAAKC,OAAOkG,MAGvB,OAFAiF,GAAKH,KAAKE,GACVnL,KAAKC,OAAOkG,GAASiF,EACdpL,MAGTD,EAAQ8D,UAAUwH,KAAO,SAAUlF,EAAOgF,GAGxC,MAFAA,GAAQG,OAAQ,EAChBtL,KAAKkL,GAAG/E,EAAOgF,GACRnL,MAGTD,EAAQ8D,UAAU0H,IAAM,SAAUpF,EAAOgF,GACvC,GAAqB,kBAAVhF,GAAsB,CAC/BgF,EAAUhF,CACV,KAAKA,IAASnG,MAAKC,OACjBD,KAAKuL,IAAIpF,EAAOgF,EAElB,OAAOnL,MAMT,IAHA,GAAIoL,GAAOpL,KAAKC,OAAOkG,GACnBqF,EAAMJ,EAAKzH,OAER6H,GAAO,GACRL,IAAYC,EAAKI,IACnBJ,EAAKtH,MAAM0H,EAAK,EAIpB,OAAOxL,OAGTD,EAAQ8D,UAAU4H,KAAO,WACvB,GAAIV,GAAOnH,MAAMC,UAAUe,MAAM5D,KAAK0K,WAClCvF,EAAQ4E,EAAKlE,QACbuE,EAAOpL,KAAKC,OAAOkG,MAMvB,OAJAiF,GAAKzI,QAAQ,SAAUwI,GACrBA,EAAQQ,MAAM3L,KAAM+K,IACpB5B,KAAKnJ,OAEAA,MAMTE,EAAM2D,UAAUuD,aAAe,SAAUqB,GACvC,GAAImD,EAEJ,IAAInD,EAAS,CAKX,IAJAmD,EAAO5L,KAAKoH,eAEZqB,EAAUA,EAAQoD,cAEXD,GAAQA,EAAKnD,UAAYA,GAC9BmD,EAAOA,EAAK3D,aAGd,OAAQ2D,IAAQA,EAAKnD,UAAYA,EAC7BmD,EACA,KAIJ,IAFAA,EAAOpK,SAASsK,eAAeC,UAExBH,GAAQA,EAAKI,WAAaxK,SAASyK,cACxCL,EAAOA,EAAKM,UAGd,OAAON,IAIX1L,EAAM2D,UAAUyD,aAAe,WAC7B,MAAOtH,MAAKmM,UAAU,YAGxBjM,EAAM2D,UAAU2D,eAAiB,WAC/B,MAAOxH,MAAKmM,UAAU,cAGxBjM,EAAM2D,UAAU6D,gBAAkB,WAChC,MAAO1H,MAAKmM,UAAU,eAGxBjM,EAAM2D,UAAU+D,YAAc,WAC5B,MAAO5H,MAAKmM,UAAU,WAGxBjM,EAAM2D,UAAUsI,UAAY,SAAU9C,GAIpC,IAHA,GACI+C,GADAR,EAAO5L,KAAKoH,iBAGH,CACX,IAAKwE,EACH,KAKF,IAFAQ,EAAIR,GAAQxC,EAAOwC,EAAKnD,QAAQ4D,eAE5BD,GAAKA,EAAE/C,OAASA,EAClB,MAAOuC,EAGTA,GAAOA,EAAK3D,cAGd,MAAO,OAGT/H,EAAM2D,UAAUyI,QAAU,SAAU/K,GAC9BA,EAAGiH,UAAUD,OACfvI,KAAK8I,YAAYvH,IAEjBA,EAAGiH,UAAY,IACfxI,KAAK8I,YAAYvH,GACjBA,EAAGiH,UAAY,KAInBtI,EAAM2D,UAAU0I,WAAa,WAC3B,GAAIC,GAAYhL,SAASsK,eACrBF,EAAOY,EAAUT,UACjBU,EAASD,EAAUE,WAEvB,OAAId,GAAKI,WAAaxK,SAASyK,aACtB,GAGFL,EAAKe,cAAc,EAAGF,IAG/BvM,EAAM2D,UAAU+I,UAAY,WAC1B,GAAIJ,GAAYhL,SAASsK,eACrBF,EAAOY,EAAUT,UACjBU,EAASD,EAAUE,WAEvB,OAAId,GAAKI,WAAaxK,SAASyK,aACtB,GAGFL,EAAKe,cAAcF,EAAQb,EAAKjI,OAAS,IAGlDzD,EAAM2D,UAAUiF,YAAc,SAAUvH,GACtCA,EAAGsL,QACHrL,SAASsK,eAAegB,SAASvL,GAAI,IAGvCrB,EAAM2D,UAAUkJ,UAAY,SAAUxL,GACpC,GAAIyL,GAAQxL,SAASyL,cACjBT,EAAY1M,EAAOgM,cACvBkB,GAAME,mBAAmB3L,GACzByL,EAAMF,UAAS,GACfN,EAAUW,kBACVX,EAAUY,SAASJ,IAGrB9M,EAAM2D,UAAUC,MAAQ,SAAUvC,GAChC,GAAIiL,GAAYhL,SAASsK,eACrBF,EAAOY,EAAUT,UACjBU,EAASD,EAAUE,YACnBM,EAAQxL,SAASyL,cACjBI,EAAczJ,MAAMC,UAAUyJ,QAAQtM,KAAKO,EAAG2K,WAAWqB,WAAYhM,EAEzEyL,GAAMQ,SAASjM,EAAG2K,WAAYmB,GAC9BL,EAAMS,OAAO7B,EAAMa,EAEnB,IAAIiB,GAAOV,EAAMW,iBAIjB,OAFApM,GAAG2K,WAAWtD,aAAa8E,EAAMnM,GAE1BA,GAGTrB,EAAM2D,UAAU+J,KAAO,WACrB,GACIZ,GADAR,EAAYhL,SAASsK,cAGpBU,KAIDA,EAAUqB,aACZb,EAAQR,EAAUsB,WAAW,IAG/B9N,KAAK+N,OAASf,IAGhB9M,EAAM2D,UAAUmK,QAAU,WACxB,GAAIhB,GAAQhN,KAAK+N,MAEjB,IAAIf,EAAO,CACT,GAAIiB,GAAIzM,SAASyL,cACbT,EAAYhL,SAASsK,cAEzBmC,GAAET,SAASR,EAAMkB,eAAgBlB,EAAMmB,aACvCF,EAAER,OAAOT,EAAMoB,aAAcpB,EAAMqB,WACnC7B,EAAUW,kBACVX,EAAUY,SAASa,KAIvB/N,EAAM2D,UAAUyK,cAAgB,SAAU/M,GACxC,GAAIiL,GAAY1M,EAAOgM,eACnBkB,EAAQxL,SAASyL,aACrBD,GAAME,mBAAmB3L,GACzBiL,EAAUW,kBACVX,EAAUY,SAASJ,IAGrB9M,EAAM2D,UAAU0K,cAAgB,SAAUhN,GACxC,GAAIiL,GAAYhL,SAASsK,eACrBkB,EAAQR,EAAUsB,WAAW,EAEjCd,GAAMwB,iBAENxB,EAAMyB,WAAWlN,IAMnBnB,EAAWyD,UAAU7B,IAAM,SAAU0B,GACnC,GAAkB,kBAAPA,GACT,KAAM,IAAIgL,OAAM,yCAKlB,OAFA1O,MAAKK,WAAW4K,KAAKvH,GAEd1D,MAGTI,EAAWyD,UAAU8K,KAAO,SAAUlL,EAAKmL,GACzC,GAAIlL,GAAK1D,KAAK6O,QAAQ7O,KAAKK,WAC3BqD,GAAG1C,KAAKyC,EAAKmL,IAGfxO,EAAWyD,UAAUgL,QAAU,SAAUC,GACvC,MAAO,UAAUF,GACf,GAAInE,GAAI,EAEJvE,EAAO,SAAW6I,GACpB,GAAIA,EACF,MAAOH,GAAGG,EAGZ,IAAIrL,GAAKoL,EAAIrE,IAEb,KAAK/G,EACH,MAAOkL,IAGT,KACElL,EAAG1C,KAAKhB,KAAMkG,GACd,MAAOjD,GACP2L,EAAG3L,KAEJkG,KAAKnJ,KAERkG,OAUJ5F,EAAKuD,UAAUmL,IAAM,SAAU9H,EAAK+H,GAGlC,MAFAjP,MAAKU,IAAIwG,GAAO+H,EAChBjP,KAAKQ,UAAW,EACTR,MAGTM,EAAKuD,UAAUqL,KAAO,SAAUhI,EAAK+H,GAKnC,IAJA,GAAItE,GAAO1J,EAAM6C,MAAMoD,EAAK,KACxBiI,EAAOxE,EAAKyE,MACZ3O,EAAOT,KAAKS,KAETyG,EAAMyD,EAAK9D,SAEdpG,EADgB4O,SAAd5O,EAAKyG,GACAzG,EAAKyG,MAELzG,EAAKyG,EAShB,OALIzG,GAAK0O,KAAUF,IACjBjP,KAAKQ,UAAW,EAChBC,EAAK0O,GAAQF,GAGRjP,MAGTM,EAAKuD,UAAUyL,IAAM,SAAUpI,GAC7B,GAAIlH,KAAKU,IAAIwG,GACX,MAAOlH,MAAKU,IAAIwG,EAMlB,KAHA,GAAIyD,GAAO1J,EAAM6C,MAAMoD,EAAK,KACxBzG,EAAOT,KAAKS,KAETyG,EAAMyD,EAAK9D,SAAS,CACzB,GAAawI,SAAT5O,EACF,MAEAA,GAAOA,EAAKyG,GAIhB,MAAOzG,IAGTH,EAAKuD,UAAU0L,OAAS,WACtB,GAAI7O,GAAMV,KAAKU,GASf,OAPAS,QAAOwJ,KAAKjK,GAAKiC,QAAQ,SAAUuE,GACjClH,KAAKkP,KAAKhI,EAAKxG,EAAIwG,KACnBiC,KAAKnJ,OAEPA,KAAKQ,UAAW,EAChBR,KAAKU,OAEEV,MAGTM,EAAKuD,UAAU2L,OAAS,WACtB,MAAOvO,GAAMqD,MAAMtE,KAAKS,OAO1BE,EAAQkD,UAAU4L,KAAO,WACvB,GAAI7O,IACF6G,cACAiI,aAGEjP,EAAOT,KAAKS,KAEZkP,IAEJxO,QAAOwJ,KAAKlK,GAAMkC,QAAQ,SAAUC,GAClC+M,EAAe/M,GAAQ,IAGzB5C,KAAK4P,MAAM5P,KAAKuB,GAAIX,EAAW+O,GAE/BxO,OAAOwJ,KAAKgF,GAAgBhN,QAAQ,SAAUC,SACrCnC,GAAKmC,KAGd5C,KAAKY,UAAYA,GAGnBD,EAAQkD,UAAU+L,MAAQ,SAAUrO,EAAIX,EAAW+O,GACjD,GAAIlH,GAAUlH,EAAGkH,QAAQ4D,cACrBzJ,EAAOrB,EAAG2H,aAAa,QACvBzI,EAAOT,KAAKS,KAAKmC,GACjBwG,EAASpJ,KAAKoJ,OAAOX,EAEzB,OAAKW,IAODxG,SACK+M,GAAe/M,GAGnBnC,IACEmC,IACHA,EAAO5C,KAAKe,QAAQ8O,WAGtBpP,EAAO,GAAIH,GAAKsC,GAChBnC,EAAKuO,IAAI,MAAOvG,GAChBzI,KAAKS,KAAKmC,GAAQnC,EAElBc,EAAGG,aAAa,OAAQjB,EAAKF,KAG/BI,EAAQyI,EAAOC,MAAMrI,KAAKhB,KAAMuB,EAAId,EAAMG,EAAW+O,GAErDvG,EAAOyB,MAAMlI,QAAQ,SAAUkC,GAC7BlE,EAAQkE,EAAKwE,MAAMrI,KAAKhB,KAAMuB,EAAId,EAAMoE,IACxCsE,KAAKnJ,OAEHS,EAAKD,WACPC,EAAK8O,SACLvP,KAAKyL,KAAK,UAAWhL,IAGhBA,OAjCLQ,GAAMuC,KAAKjC,EAAGuO,SAAU,SAAUvO,GAChCvB,KAAK4P,MAAMrO,EAAIX,EAAW+O,IAC1BxG,KAAKnJ,QAkCXW,EAAQ0G,QAAU,SAAU9F,EAAId,EAAMG,EAAW+O,GAC/C,GAAIxH,KAEJlH,GAAMuC,KAAKjC,EAAGuO,SAAU,SAAUC,GAChC,GAAI3G,GAASpJ,KAAKoJ,OAAO2G,EAAMtH,QAAQ4D,cAEvC,OAAKjD,KAKCxI,EAAU8O,SAASpC,QAAQ7M,EAAKF,KACpCK,EAAU8O,SAASzE,KAAKxK,EAAKF,SAG3B,aAAagD,KAAK6F,EAAOC,OAC3BlB,EAAE8C,KAAKjL,KAAK4P,MAAMG,EAAOnP,EAAW+O,GAAgBpP,UATpDI,GAAQqP,qBAAqBD,IAY/B5G,KAAKnJ,OAEPS,EAAKuO,IAAI,QAASpO,EAAU6G,WAAW9D,QACvClD,EAAKuO,IAAI,MAAOpL,MAAMC,UAAUoH,KAAKU,MAAM/K,EAAU6G,WAAYU,KAGnExH,EAAQ8G,WAAa,SAAUlG,EAAId,EAAMG,EAAW+O,GAClD,GAAIxH,KAEJlH,GAAMuC,KAAKjC,EAAGuO,SAAU,SAAUC,GAChC,GAAI3G,GAASpJ,KAAKoJ,OAAO2G,EAAMtH,QAAQ4D,cAEvC,OAAKjD,QAKe,cAAhBA,EAAOC,MACTlB,EAAE8C,KAAKjL,KAAK4P,MAAMG,EAAOnP,EAAW+O,GAAgBpP,SALpDI,GAAQqP,qBAAqBD,IAO/B5G,KAAKnJ,OAEPS,EAAKuO,IAAI,QAASpO,EAAU6G,WAAW9D,QACvClD,EAAKuO,IAAI,MAAOpL,MAAMC,UAAUoH,KAAKU,MAAM/K,EAAU6G,WAAYU,KAGnExH,EAAQ4G,UAAY,SAAUhG,EAAId,EAAMG,EAAW+O,GACjD,GAAIhI,KAEJ1G,GAAMuC,KAAKjC,EAAGuO,SAAU,SAAUC,GAChC,GAAI3G,GAASpJ,KAAKoJ,OAAO2G,EAAMtH,QAAQ4D,cAEvC,OAAKjD,QAKe,WAAhBA,EAAOC,MACT1B,EAAOsD,KAAKjL,KAAK4P,MAAMG,EAAOnP,EAAW+O,GAAgBpP,SALzDI,GAAQqP,qBAAqBD,IAO/B5G,KAAKnJ,OAEPS,EAAKuO,IAAI,SAAUrH,IAGrBhH,EAAQgH,OAAS,SAAUpG,EAAId,GAC7B,GAAIgM,GAAS9L,EAAQsP,UAAU1O,EAC/Bd,GAAKuO,IAAI,QAASvC,EAAOyD,OACzBzP,EAAKuO,IAAI,MAAOvC,EAAO0D,MAGzBxP,EAAQyP,UAAY,SAAU7O,EAAId,EAAMoE,GACtC,GAAIoK,GAAM1N,EAAG2H,aAAarE,EAAKjC,KAC/BnC,GAAKuO,IAAInK,EAAKjC,KAAMqM,IAGtBtO,EAAQ0P,QAAU,SAAU9O,EAAId,EAAMoE,GACpC,GAAIoK,GAAM1N,EAAG2H,aAAa,QAAUrE,EAAKjC,KACzCnC,GAAKuO,IAAInK,EAAKjC,KAAMqM,IAGtBtO,EAAQsJ,QAAU,SAAU1I,EAAId,EAAMoE,GACpC,GAAI0E,GAAOhI,EAAG8G,aAAe9G,EAAG+G,SAChC7H,GAAKuO,IAAInK,EAAKjC,KAAM2G,IAGtB5I,EAAQqP,qBAAuB,SAAUzO,GACvC,GAAIgI,GAAOhI,EAAG8G,aAAe9G,EAAG+G,UAC5BsD,EAAOpK,SAAS8O,eAAe/G,EACnChI,GAAG0G,cAAcsI,aAAa3E,EAAMrK,IAGtCZ,EAAQsP,UAAY,SAAU1O,GAc5B,IAbA,GACIiP,GAAYC,EAAY/P,EADxBuH,EAAgB1G,EAAG2K,WAEnBO,GACFyD,MAAO,EACPC,IAAK,GAGHO,EAAQ,WACV,MAAOzI,IACFA,EAAc+D,WAAaxK,SAASyK,eACnChE,EAAciB,aAAa,SAG5BwH,KACLzI,EAAgBA,EAAcA,aAahC,OAVIA,KACFvH,EAAMc,SAASC,cAAc,OAC7BgL,EAAOyD,MAAQjI,EAAcO,UAAU8E,QAAQ/L,EAAGoP,WAClDH,EAAavI,EAAcO,UAAUoI,OAAO,EAAGnE,EAAOyD,OACtDxP,EAAI8H,UAAYgI,EAChBC,EAAa/P,EAAI2H,aAAe3H,EAAI4H,WAAa,GACjDmE,EAAOyD,OAASM,EAAW7M,OAAS8M,EAAW9M,OAC/C8I,EAAO0D,IAAM1D,EAAOyD,OAAS3O,EAAG8G,aAAe9G,EAAG+G,WAAa,IAAI3E,QAG9D8I,GAGT9L,EAAQkD,UAAU2L,OAAS,WA6BzB,QAAS7H,GAAO/E,GACd,GAAI+E,GAASlH,EAAKmC,GACdiO,EAAIlJ,GAAUA,EAAO6H,YAIzB,OAFAqB,GAAEjO,KAAOA,EAEFiO,EAlCT,GAAIjQ,GAAYZ,KAAKY,UACjB8O,EAAW9O,EAAU8O,SACrBjI,EAAa7G,EAAU6G,WACvBhH,EAAOT,KAAKS,KAEZqQ,GACFpB,YACAjI,cA8BF,OA3BAiI,GAAS/M,QAAQ,SAAUC,GACzB,GAAIyE,GAAU5G,EAAKmC,GACfiO,EAAIxJ,GAAWA,EAAQmI,YAC3BqB,GAAEjO,KAAOA,EACTkO,EAAKpB,SAASzE,KAAK4F,KAGrBpJ,EAAW9E,QAAQ,SAAUC,GAC3B,GAAI2E,GAAY9G,EAAKmC,GACjBiO,EAAItJ,GAAaA,EAAUiI,YAE/BqB,GAAEjO,KAAOA,EAETiO,EAAElJ,QAAUkJ,EAAElJ,YAAcvD,IAAIuD,GAEhCmJ,EAAKrJ,WAAWwD,KAAK4F,KAYhBC,GAKTjQ,EAAYgD,UAAUkN,SAAW,SAAUD,GACzC,GAAIvP,GAAKvB,KAAKuB,GACVmO,EAAWoB,EAAKpB,SAChBjI,EAAaqJ,EAAKrJ,UAEtBiI,GAAS/M,QAAQ,SAAU0E,EAASoD,GAClC,GAGIA,GAAGlD,EAAWyJ,EAHdC,EAAW1P,EAAG2P,cAAc,UAAY7J,EAAQzE,KAAO,MACvDuO,EAAOzB,EAASjF,EAAI,GACpB2G,EAAQD,GAAQ5P,EAAG2P,cAAc,UAAYC,EAAKvO,KAAO,KAQ7D,KALKqO,IACHA,EAAWzP,SAASC,cAAc4F,EAAQuD,KAC1CqG,EAASvP,aAAa,OAAQ2F,EAAQzE,OAGnC6H,EAAIpD,EAAQ6I,MAAOzF,EAAIpD,EAAQ8I,IAAK1F,GAAK,EAC5ClD,EAAYE,EAAWgD,GACvBuG,EAAaC,EAASC,cAAc,UAAY3J,EAAU3E,KAAO,MAE5DoO,IACHA,EAAaxP,SAASC,cAAc8F,EAAUqD,KAC9CoG,EAAWtP,aAAa,OAAQ6F,EAAU3E,OAG5C/B,EAAYwQ,YAAYrQ,KAAKhB,KAAMgR,EAAYzJ,GAC/C1G,EAAYyQ,aAAatQ,KAAKhB,KAAMgR,EAAYzJ,GAE3CyJ,EAAW/I,eACdgJ,EAAStI,YAAYqI,EAIpBC,GAAShJ,gBACRmJ,EACFA,EAAMnJ,cAAcW,aAAaqI,EAAUG,EAAMvI,aAEjD7I,KAAKuB,GAAGoH,YAAYsI,KAGxB9H,KAAKnJ,OAEPA,KAAK+B,eAGPlB,EAAYyQ,aAAe,SAAU/P,EAAId,GACvC,GAAI8I,GAAOhI,EAAG8G,aAAe9G,EAAG+G,UAC5BX,EAASlH,EAAKkH,WACd4J,EAAO,GACPC,EAAS,CAEb7J,GAAOhF,QAAQ,SAAUlC,GACvB,GAAIgR,GAAUlQ,EAAG2P,cAAc,UAAYzQ,EAAKmC,KAAO,KAElD6O,KACHA,EAAUjQ,SAASC,cAAchB,EAAKmK,KACtC6G,EAAQ/P,aAAa,OAAQjB,EAAKmC,OAGpC/B,EAAYwQ,YAAYrQ,KAAKhB,KAAMyR,EAAShR,GAEhB4O,SAAxBoC,EAAQpJ,YACVoJ,EAAQnJ,UAAYiB,EAAKqH,OAAOnQ,EAAKyP,MAAOzP,EAAK0P,IAAM1P,EAAKyP,OAE5DuB,EAAQpJ,YAAckB,EAAKqH,OAAOnQ,EAAKyP,MAAOzP,EAAK0P,IAAM1P,EAAKyP,OAGhEqB,GAAQhI,EAAKqH,OAAOY,EAAQ/Q,EAAKyP,MAAQsB,GACrCC,EAAQd,UAEZa,EAAS/Q,EAAK0P,KACdhH,KAAKnJ,OAEPuR,GAAQhI,EAAKqH,OAAOY,EAAQjI,EAAK5F,OAAS6N,GAE1CjQ,EAAGiH,UAAY+I,GAGjB1Q,EAAYwQ,YAAc,SAAU9P,EAAId,GACtC,GAAI2I,GAASpJ,KAAKoJ,OAAO3I,EAAKmK,IAE9BxB,GAAOyB,MAAMlI,QAAQ,SAAUkC,GAC7BhE,EAAYgE,EAAKwE,MAAMrI,KAAKhB,KAAMuB,EAAId,EAAMoE,MAIhDhE,EAAYuP,UAAY,SAAU7O,EAAId,EAAMoE,GAC1CtD,EAAGG,aAAamD,EAAKjC,KAAMnC,EAAKoE,EAAKjC,QAGvC/B,EAAYwP,QAAU,SAAU9O,EAAId,EAAMoE,GACxCtD,EAAGG,aAAa,QAAUmD,EAAKjC,KAAMnC,EAAKoE,EAAKjC,QAGjD/B,EAAYoJ,QAAU,SAAU1I,EAAId,EAAMoE,GACjBwK,SAAnB9N,EAAG8G,YACL9G,EAAG+G,UAAY7H,EAAKoE,EAAKjC,MAEzBrB,EAAG8G,YAAc5H,EAAKoE,EAAKjC,MAG/B,IAAIvB,IACFwO,QAAS,WACP,MAAO,uCAAuC1L,QAAQ,QAAS,SAAUuN,GACvE,GAAIzD,GAAoB,GAAhB0D,KAAKC,SAAgB,EAAGC,EAAU,MAANH,EAAYzD,EAAS,EAAJA,EAAU,CAC/D,OAAO4D,GAAEC,SAAS,OAIxBhR,GAAO+C,UAAY1C,OAAOC,OAAOrB,EAAQ8D,WACzC5C,EAAMC,MAAMJ,EAAO+C,UAAWzD,EAAWyD,WACzC5C,EAAMC,MAAMJ,EAAO+C,UAAWlD,EAAQkD,WACtC5C,EAAMC,MAAMJ,EAAO+C,UAAWhD,EAAYgD,WA8B1C/C,EAAO+C,UAAUkO,QAAU,WACzB,MAAO/R,MAAK6O,SACV5M,EAAYkG,EAAEnI,MACdiC,EAAY8G,OAAO/I,SAIvBc,EAAO+C,UAAUuF,OAASA,EAE1BtI,EAAO+C,UAAU/B,WAAa,WAC5B,GAAIP,GAAKvB,KAAKuB,GACV4H,EAAO5H,EAAG6G,iBAAiBe,KAAK5H,EAEpC4H,GAAK,UAAWnJ,KAAKgS,UAAU7I,KAAKnJ,OACpCmJ,EAAK,QAASnJ,KAAKyP,KAAKtG,KAAKnJ,OAC7BmJ,EAAK,QAASnJ,KAAK+B,YAAYoH,KAAKnJ,OACpCmJ,EAAK,OAAQnJ,KAAK+B,YAAYoH,KAAKnJ,OACnCmJ,EAAK,QAASnJ,KAAK+B,YAAYoH,KAAKnJ,QAGtCc,EAAO+C,UAAUmO,UAAY,SAAU/O,GACrC,GACIQ,GADAoJ,EAAQ7M,KAAK6B,MAAMuF,cAGvB,OAAIyF,KAAU7M,KAAKuB,IAAMsL,IAAUrL,SAASyQ,SAC1ChR,GAAM+B,aAAaC,IAIrBjD,KAAK+B,cAEL0B,EAAMtC,OAAOC,OAAOpB,KAAKsB,SACzBmC,EAAI0C,MAAQlD,EACZQ,EAAIqE,QAAU7G,EAAM+B,aAAamG,KAAK,KAAMlG,OAE5CjD,MAAK2O,KAAKlL,EAAK,SAAUR,GACnBA,GACFjD,KAAKyL,KAAK,QAASxI,IAErBkG,KAAKnJ,SAGTc,EAAO+C,UAAUgE,QAAU,WACzB,GAAIiI,GAAW9P,KAAKuB,GAAGuO,SACnBoC,EAAQpC,EAAS,EACrB,OAAOA,GAASnM,QAAU,KACnBuO,EAAM7J,aAAe6J,EAAM5J,WAAa,IAAIC,QAGrDzH,EAAO+C,UAAU9B,YAAc,WAC7B,GAAImQ,GAAQlS,KAAKuB,GAAGuO,SAAS,EAE7B,KAAKoC,EAAO,CACV,GAAI/J,GAAI3G,SAASC,cAAc,IAC/ByQ,GAAQ1Q,SAASC,cAAc,WAC/B0G,EAAEK,UAAY,+BACd0J,EAAMvJ,YAAYR,GAClBnI,KAAKuB,GAAGoH,YAAYuJ,GACpBlS,KAAKyP,KAAKzP,KAAKuB,IACfvB,KAAK6B,MAAMyK,QAAQnE,GAGjBnI,KAAK6H,UACP7H,KAAKuB,GAAGI,UAAUC,IAAI,YAEtB5B,KAAKuB,GAAGI,UAAUwQ,OAAO,cAG1BnS"}