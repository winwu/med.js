{"version":3,"file":"./dist/med.min.js","sources":["./dist/med.js"],"names":["require","name","module","modules","Error","definition","client","component","call","this","exports","register","define","Editor","options","Emitter","Middleware","Observe","HtmlBuilder","Figure","utils","mixin","Object","create","defaultOptions","context","editor","el","document","createElement","setAttribute","classList","add","caret","Caret","bindEvents","handleEmpty","use","plugins","initContext","removeExtraNodes","renameElements","removeInlineStyle","handleEmptyParagraph","refocus","prototype","start","compose","preventDefault","commandA","handleParagraph","handleList","handleFigure","handleBlockquote","handleBackspace","end","createNewParagraph","bind","addEventListener","onKeydown","e","ctx","event","prevent","exec","emit","sync","walk","setTimeout","isEmpty","children","first","length","getTextContent","trim","p","innerHTML","appendChild","focusTo","remove","els","querySelectorAll","Array","forEach","element","getAttribute","data","focusNode","getSelection","focusElement","tagName","node","toUpperCase","parentElement","isElementNode","parentNode","focusSection","focusType","focusParagraph","focusParagraphs","focusFigure","focusDetail","type","elType","getType","nextElement","nextSibling","moveToStart","textBefore","selection","offset","focusOffset","substringData","textAfter","len","range","createRange","isTextNode","childNodes","setStart","setEnd","removeAllRanges","addRange","collapseToStart","moveToEnd","window","collapseToEnd","split","parentIndex","indexOf","left","extractContents","insertBefore","save","rangeCount","getRangeAt","_range","restore","r","startContainer","startOffset","endContainer","endOffset","selectAllText","selectNodeContents","selectAll","firstNode","firstTextNode","lastNode","lastTextNode","select","startNode","endNode","insertPlaceholder","setNodeContent","removePlaceholder","startNodeContent","endNodeContent","placeholder","replace","arguments","insertElement","deleteContents","insertNode","closestElement","atElementStart","toString","atElementEnd","Data","id","modified","tmp","set","key","val","equal","get","_set","keys","last","pop","shift","undefined","update","toJSON","clone","genName","format","c","Math","random","v","events","on","handler","list","push","once","_once","off","hasOwnProperty","splice","args","slice","apply","FigureType","updateData","updateHTML","keyboard","modifiers",224,91,93,18,17,16,"map",8,9,13,20,27,32,37,38,39,40,"super","os","schema","section","h1","text","h2","h3","h4","h5","h6","blockquote","quoteTpye","figure","ol","ul","li","a","href","title","b","i","br","tag","attrs","attrName","attr","attrType","figureTypes","registerFigureType","getFigureType","default","fromJSON","json","importData","buildHTML","detail","d","structure","sections","paragraphs","paragraph","docfrag","createDocumentFragment","html","createElements","each","child","outerHTML","container","createSections","createParagraphs","isType","createFigure","createDetails","figureElement","figureType","content","pointer","createTextNode","initElement","s","attribute","dataset","textContent","innerText","middleware","fn","cb","fns","next","err","shouldBeDelete","scan","toLowerCase","tagSchema","checkAndRemoveStrangeElement","removeChild","getElementSchema","test","handleUnknownElement","getOffset","replaceChild","beforeHTML","beforeText","check","substr","getDetailData","rules","parentType","shouldRemove","body","needToCreateElement","isTag","isFirstElementOf","moveChildNodes","removeElement","handleOthers","needToRemove","firstChild","previous","previousElementSibling","lastChild","focus","removeEmptyElements","previousSibling","previousIsBrTag","shouldCombineList","nextElementSibling","combineList","quote","klass","removeActive","querySelector","target","isAncestorOf","leaveList","isLastElementOf","leaveAndMoveContentToNewElement","shouldHandleThis","modifier","isCreateNewLineAction","createNewLine","isNotEmpty","code","keyCode","which","mod","ctrl","ctrlKey","option","alt","altKey","shiftKey","command","meta","metaKey","String","fromCharCode","removeExtraNode","curr","prev","nodes","neetToCombine","nodeType","isAllowedToHaveContent","appendData","names","ELEMENT_NODE","TEXT_NODE","isStrictEmpty","isNotStrictEmpty","str","isLastChild","parentELement","shouldRemoveParagraphs","shouldRemoveP","shouldRemoveParagraph","moveChildren","src","dest","types","ancestor","parents","getParents","nodeContentLength","lastElement","firstElement","o1","o2","getOwnPropertyNames","desc","getOwnPropertyDescriptor","defineProperty","returnValue","userAgent","navigator","isArrayLike","obj","separator","limit","re","RegExp","JSON","parse","stringify","sort","join","prop","notEqual","amd"],"mappings":"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"}