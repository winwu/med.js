{"version":3,"file":"./dist/med.min.js","sources":["./dist/med.js"],"names":["window","Emitter","this","events","Caret","editor","Middleware","middleware","Data","id","modified","data","tmp","Observe","structure","HtmlBuilder","Editor","options","call","utils","mixin","Object","create","defaultOptions","context","el","document","createElement","setAttribute","classList","add","caret","bindEvents","handleEmpty","use","middlewares","init","basic","module","exports","define","amd","Med","o1","o2","getOwnPropertyNames","forEach","name","desc","getOwnPropertyDescriptor","defineProperty","preventEvent","e","preventDefault","returnValue","os","userAgent","navigator","test","each","ctx","fn","length","Array","prototype","split","separator","limit","re","RegExp","replace","map","str","clone","obj","Date","copy","setTime","getTime","slice","attr","hasOwnProperty","keyboard","modifiers",224,91,93,18,17,16,8,9,13,20,27,32,37,38,39,40,"super","next","event","code","keyCode","which","mod","ctrl","ctrlKey","option","alt","altKey","shift","shiftKey","command","meta","metaKey","key","isEmpty","prevent","els","querySelectorAll","parentElement","removeChild","addEventListener","focusElement","textContent","innerText","trim","innerHTML","tagName","textBefore","p","previousElementSibling","section","currentSection","appendChild","insertBefore","nextSibling","moveToStart","schema","type","h1","text","h2","h3","h4","h5","h6","blockquote","quoteTpye","figure","figureType","content","ol","ul","li","a","href","title","b","i","br","keys","tag","attrs","attrName","args","attrType","push","on","handler","list","once","_once","off","len","emit","arguments","apply","bind","node","toUpperCase","getSelection","focusNode","nodeType","ELEMENT_NODE","parentNode","selection","createRange","focusTo","offset","focusOffset","substringData","textAfter","focus","collapse","range","body","createTextRange","moveToElementText","select","moveToEnd","selectNodeContents","removeAllRanges","addRange","textRange","parentIndex","indexOf","childNodes","setStart","setEnd","left","extractContents","Error","exec","cb","fns","err","set","val","_set","last","pop","undefined","get","update","toJSON","sync","paragraphs","sections","shouldBeDelete","_scan","toLowerCase","getAttribute","genName","children","child","paragraph","detail","getOffset","start","end","attribute","dataset","beforeHTML","beforeText","check","outerHTML","substr","d","json","fromJSON","$paragraph","$section","querySelector","prev","$prev","initElement","createDetail","html","cursor","$detail","c","r","Math","random","v","toString","onKeydown","first","remove"],"mappings":"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"}