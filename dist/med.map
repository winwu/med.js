{"version":3,"file":"./dist/med.min.js","sources":["./dist/med.js"],"names":["window","Emitter","this","events","Caret","editor","Middleware","middleware","Data","id","modified","data","tmp","Observe","structure","HtmlBuilder","Editor","options","call","utils","mixin","Object","create","defaultOptions","context","el","document","createElement","setAttribute","classList","add","caret","bindEvents","handleEmpty","use","middlewares","init","basic","module","exports","define","amd","Med","o1","o2","getOwnPropertyNames","forEach","name","desc","getOwnPropertyDescriptor","defineProperty","preventEvent","e","preventDefault","returnValue","os","userAgent","navigator","test","each","ctx","fn","length","Array","prototype","split","separator","limit","re","RegExp","replace","map","str","clone","obj","Date","copy","setTime","getTime","slice","attr","hasOwnProperty","keyboard","modifiers",224,91,93,18,17,16,8,9,13,20,27,32,37,38,39,40,"super","next","event","code","keyCode","which","mod","ctrl","ctrlKey","option","alt","altKey","shift","shiftKey","command","meta","metaKey","key","isEmpty","prevent","els","querySelectorAll","parentElement","removeChild","focusElement","tagName","textContent","innerText","trim","textBefore","p","innerHTML","previousElementSibling","section","currentSection","appendChild","insertBefore","nextSibling","moveToStart","schema","type","h1","text","h2","h3","h4","h5","h6","blockquote","quoteTpye","figure","figureType","content","ol","ul","li","a","href","title","b","i","br","keys","tag","attrs","attrName","args","attrType","push","on","handler","list","once","_once","off","len","emit","arguments","apply","bind","node","toUpperCase","getSelection","focusNode","nodeType","ELEMENT_NODE","selection","createRange","focusTo","offset","focusOffset","substringData","textAfter","focus","collapse","range","body","createTextRange","moveToElementText","select","moveToEnd","selectNodeContents","removeAllRanges","addRange","textRange","parentIndex","indexOf","parentNode","childNodes","setStart","setEnd","left","extractContents","Error","exec","cb","fns","err","set","val","_set","last","pop","undefined","get","update","toJSON","sync","paragraphs","sections","shouldBeDelete","_scan","toLowerCase","getAttribute","genName","children","child","paragraph","detail","getOffset","start","end","attribute","dataset","beforeHTML","beforeText","check","outerHTML","substr","d","json","fromJSON","$paragraph","$section","querySelector","prev","$prev","initElement","createDetail","html","cursor","$detail","c","r","Math","random","v","toString","addEventListener","onKeydown","first","remove"],"mappings":"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"}