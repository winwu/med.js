{"version":3,"file":"./dist/med.min.js","sources":["./dist/med.js"],"names":["window","Emitter","this","events","Caret","editor","Middleware","middleware","Data","id","modified","data","tmp","Observe","structure","HtmlBuilder","Editor","options","call","utils","mixin","Object","create","defaultOptions","context","el","document","createElement","setAttribute","classList","add","caret","bindEvents","handleEmpty","use","middlewares","init","module","exports","define","amd","Med","o1","o2","getOwnPropertyNames","forEach","name","desc","getOwnPropertyDescriptor","defineProperty","preventEvent","e","preventDefault","returnValue","os","userAgent","navigator","test","each","ctx","fn","length","Array","prototype","split","separator","limit","re","RegExp","replace","map","str","clone","obj","Date","copy","setTime","getTime","slice","attr","hasOwnProperty","keyboard","modifiers",224,91,93,18,17,16,8,9,13,20,27,32,37,38,39,40,"super","next","event","code","keyCode","which","mod","ctrl","ctrlKey","option","alt","altKey","shift","shiftKey","command","meta","metaKey","key","element","focusElement","section","focusSection","paragraph","focusParagraph","paragraphs","focusParagraphs","detail","focusDetail","isEmpty","prevent","els","querySelectorAll","parentElement","removeChild","p","addEventListener","textContent","innerText","trim","innerHTML","tagName","currentSection","appendChild","insertBefore","nextSibling","moveToStart","walker","removeExtraNode","curr","prev","nodes","children","len","nodeType","TEXT_NODE","appendData","ELEMENT_NODE","parentNode","setTimeout","names","getAttribute","s","schema","toLowerCase","type","bind","h1","text","h2","h3","h4","h5","h6","blockquote","quoteTpye","figure","figureType","content","ol","ul","li","a","href","title","b","i","br","keys","tag","attrs","attrName","args","attrType","push","on","handler","list","once","_once","off","emit","arguments","apply","node","toUpperCase","getSelection","focusNode","focusType","focusTo","textBefore","selection","offset","focusOffset","substringData","textAfter","focus","collapse","moveToEnd","range","createRange","selectNodeContents","removeAllRanges","addRange","parentIndex","indexOf","childNodes","setStart","setEnd","left","extractContents","save","rangeCount","getRangeAt","_range","restore","r","startContainer","startOffset","endContainer","endOffset","selectAllText","insertElement","deleteContents","insertNode","Error","exec","cb","compose","fns","err","set","val","_set","last","pop","undefined","get","update","toJSON","sync","sections","shouldBeDelete","_scan","genName","child","handleUnknownElement","getOffset","start","end","attribute","dataset","createTextNode","replaceChild","beforeHTML","beforeText","check","outerHTML","substr","d","json","fromJSON","$paragraph","$section","querySelector","$prev","initElement","createDetail","html","cursor","$detail","c","Math","random","v","toString","default","onKeydown","body","first","remove"],"mappings":"CAOC,SAAWA,GACV,YA4WF,SAASC,KACPC,KAAKC,UAgDP,QAASC,GAAMC,GACbH,KAAKG,OAASA,EAgLhB,QAASC,KACPJ,KAAKK,cA2CP,QAASC,GAAKC,GACZP,KAAKO,GAAKA,EACVP,KAAKQ,UAAW,EAChBR,KAAKS,QACLT,KAAKU,OAiEP,QAASC,KACPX,KAAKY,UAAY,KACjBZ,KAAKS,QAuOP,QAASI,MAqHT,QAASC,GAAOC,GACdhB,EAAQiB,KAAKhB,MACbI,EAAWY,KAAKhB,MAChBW,EAAQK,KAAKhB,MACba,EAAYG,KAAKhB,MAEjBA,KAAKe,QAAUE,EAAMC,MAAMC,OAAOC,OAAOC,GAAiBN,GAC1Df,KAAKsB,WACLtB,KAAKsB,QAAQnB,OAASH,IAEtB,IAAIuB,GAAKvB,KAAKe,QAAQQ,EAEjBA,KACHA,EAAKC,SAASC,cAAc,QAG9BF,EAAGG,aAAa,mBAAmB,GACnCH,EAAGI,UAAUC,IAAI,OAEjB5B,KAAKuB,GAAKA,EACVvB,KAAK6B,MAAQ,GAAI3B,GAAMF,MAEvBA,KAAK8B,aACL9B,KAAK+B,cAEL/B,KAAKgC,IAAIC,EAAYC,QArjCD,mBAAXC,QACTA,OAAOC,QAAUtB,EACU,kBAAXuB,SAA+C,gBAAfA,QAAOC,IACvDD,OAAO,WACL,MAAOvB,KAGThB,EAAOyC,IAAMzB,CAEf,IAAIG,KAEJA,GAAMC,MAAQ,SAAUsB,EAAIC,GAO1B,MANAtB,QACGuB,oBAAoBD,GACpBE,QAAQ,SAAUC,GACjB,GAAIC,GAAO1B,OAAO2B,yBAAyBL,EAAIG,EAC/CzB,QAAO4B,eAAeP,EAAII,EAAMC,KAE7BL,GAGTvB,EAAM+B,aAAe,SAAUC,GAC7B,MAAOA,GAAEC,eACLD,EAAEC,iBACFD,EAAEE,aAAc,GAGtBlC,EAAMmC,GAAK,WACT,GAAIC,GAAYC,UAAUD,SAC1B,SAAQ,GACN,IAAK,OAAOE,KAAKF,GACf,MAAO,KACT,KAAK,OAAOE,KAAKF,GACf,MAAO,SACT,KAAK,SAASE,KAAKF,GACjB,MAAO,OACT,SACE,MAAO,YAIbpC,EAAMuC,KAAO,SAAUC,EAAKC,GAI1B,MAHmB,gBAARD,IAA0C,gBAAfA,GAAIE,QACxCC,MAAMC,UAAUlB,QAAQ3B,KAAKyC,EAAKC,GAE7BD,GAGTxC,EAAM6C,MAAQ,SAAUC,EAAWC,GACjC,GAAIC,GAAK,GAAIC,QAAO,OAASF,EAAO,IACpC,OAAOD,GACJI,QAAQF,EAAI,KACZH,MAAME,GACNI,IAAI,SAAUC,GACb,MAAOA,GAAIF,QAAQ,UAAWH,MAIpC/C,EAAMqD,MAAQ,SAAUC,GACtB,GAAI,OAASA,GAAO,gBAAoBA,GACtC,MAAOA,EAGT,IAAIA,YAAeC,MAAM,CACvB,GAAIC,GAAO,GAAID,KAEf,OADAC,GAAKC,QAAQH,EAAII,WACVF,EAGT,GAAIF,YAAeX,OACjB,MAAOW,GAAIK,OAGb,IAAIH,KAEJ,KAAK,GAAII,KAAQN,GACXA,EAAIO,eAAeD,KACrBJ,EAAKI,GAAQ5D,EAAMqD,MAAMC,EAAIM,IAIjC,OAAOJ,GAET,IAAIM,KAEJA,GAASC,WACPC,IAAK,UACLC,GAAI,UACJC,GAAI,UACJC,GAAI,MACJC,GAAI,OACJC,GAAI,SAGNP,EAASX,KACPmB,EAAG,YACHC,EAAG,MACHC,GAAI,QACJC,GAAI,WACJC,GAAI,MACJC,GAAI,QACJC,GAAI,OACJC,GAAI,KACJC,GAAI,QACJC,GAAI,QAGNjB,EAASkB,MAAuB,QAAfhF,EAAMmC,KACnB,UACA,MACJ,IAAInB,KAEJA,GAAYC,KAAO,WACjB,MAAO,UAAUgE,GACf,GAAIjD,GAAIjD,KAAKmG,MACTC,EAAOnD,EAAEoD,SAAWpD,EAAEqD,MACtBC,EAAMxB,EAASC,UAAUoB,EAE7B,KAAIG,EAAJ,CAIA,GAAIpG,GAASH,KAAKG,MAelB,IAbAH,KAAKwG,KAAOvD,EAAEwD,QACdzG,KAAK0G,OAAS1G,KAAK2G,IAAM1D,EAAE2D,OAC3B5G,KAAK6G,MAAQ5D,EAAE6D,SACf9G,KAAK+G,QAAU/G,KAAKgH,KAAO/D,EAAEgE,QAC7BjH,KAAKoG,KAAOA,EACZpG,KAAKkH,IAAMnC,EAASX,IAAIgC,GACxBpG,KAAKiG,MAAQjG,KAAK+E,EAASkB,OAC3BjG,KAAKmH,QAAUhH,EAAO0B,MAAMuF,eAC5BpH,KAAKqH,QAAUlH,EAAO0B,MAAMyF,eAC5BtH,KAAKuH,UAAYpH,EAAO0B,MAAM2F,iBAC9BxH,KAAKyH,WAAatH,EAAO0B,MAAM6F,kBAC/B1H,KAAK2H,OAASxH,EAAO0B,MAAM+F,cAEV,cAAb5H,KAAKkH,KAAuBlH,KAAKG,OAAO0H,UAE1C,WADA7H,MAAK8H,SAIP,IAAIC,GAAM5H,EAAOoB,GAAGyG,iBAAiB,8BAErCpE,OAAMC,UAAUlB,QAAQ3B,KAAK+G,EAAK,SAAUxG,GAC1CA,EAAG0G,cAAcC,YAAY3G,KAG/B2E,OAIJjE,EAAYkG,EAAI,SAAUhI,GAUxB,MARAA,GAAOoB,GAAG6G,iBAAiB,OAAQ,WACjC,GAAI7G,GAAKpB,EAAO0B,MAAMuF,aAAa,IAE/B7F,MAAQA,EAAG8G,aAAe9G,EAAG+G,WAAa,IAAIC,SAChDhH,EAAGiH,UAAY,kCAIZ,SAAUtC,GACf,GAAI3E,GAAKvB,KAAKmH,OAEd,IAAmB,YAAf5F,EAAGkH,QACL,MAAOzI,MAAK8H,SAGd,IAAmB,MAAfvG,EAAGkH,QACL,MAAOvC,IAGT,IAAiB,UAAblG,KAAKkH,MAAoBlH,KAAK6G,SAC1BtF,EAAG8G,aAAe9G,EAAG+G,WAAa,IAAIC,OAAQ,CAClDvI,KAAK8H,SAIL,IAAIT,GAAU7F,SAASC,cAAc,WACjCiH,EAAiBvI,EAAO0B,MAAMuF,aAAa,UAE/C7F,GAAGiH,UAAY,+BAEXE,GACGA,EAAeL,aAAeK,EAAeJ,WAAa,IAAIC,SACjElB,EAAQsB,YAAYpH,GACpBmH,EACGT,cACAW,aAAavB,EAASqB,EAAeG,aACxC1I,EAAO0B,MAAMiH,YAAYvH,KAM3B8F,EAAQsB,YAAYpH,GACpBpB,EAAOoB,GAAGoH,YAAYtB,GACtBlH,EAAO0B,MAAMiH,YAAYvH,IAK/B2E,MAIJjE,EAAY8G,OAAS,SAAU5I,GAC7B,GAAI6I,GAAkB,SAAUzH,GAK9B,IAJA,GAEI0H,GAAMC,EAFNC,EAAQ5H,EAAG6H,SACXC,EAAMF,EAAMxF,OAGT0F,KACLJ,EAAOE,EAAME,GACbH,EAAOC,EAAME,EAAM,GAEfH,GAAQA,EAAKI,WAAaL,EAAKK,WAC7BJ,EAAKI,WAAa9H,SAAS+H,UAC7BL,EAAKM,WAAWP,EAAKxI,MACZyI,EAAKI,WAAa9H,SAASiI,eACpCP,EAAKV,WAAaS,EAAKZ,aAAeY,EAAKT,WAAa,IAE1DS,EAAKS,WAAWxB,YAAYe,IAKlC,OAAO,UAAU/C,GACfyD,WAAW,WACT,GAAI5B,GAAM5H,EAAOoB,GAAGyG,iBAAiB,UACjC4B,IAEJhG,OAAMC,UAAUlB,QAAQ3B,KAAK+G,EAAK,SAAUxG,GAC1C,GAAIqB,GAAOrB,EAAGsI,aAAa,QACvBC,EAAIC,EAAOxI,EAAGkH,QAAQuB,cAEtBJ,GAAMhH,GACRrB,EAAGG,aAAa,OAAQ,IAExBkI,EAAMhH,GAAQ,EAIhBrB,EAAGG,aAAa,QAAS,IAEV,cAAXoI,EAAEG,MACJjB,EAAgBzH,MAGpB2I,KAAKlK,OAEPkG,KAGJ,IAAI6D,IACF1C,SACE4C,KAAM,WAGRE,IACEF,KAAM,YACNG,KAAM,WAGRC,IACEJ,KAAM,YACNG,KAAM,WAGRE,IACEL,KAAM,YACNG,KAAM,WAGRG,IACEN,KAAM,YACNG,KAAM,WAGRI,IACEP,KAAM,YACNG,KAAM,WAGRK,IACER,KAAM,YACNG,KAAM,WAGRjC,GACE8B,KAAM,YACNG,KAAM,WAGRM,YACET,KAAM,YACNG,KAAM,UACNO,UAAW,gBAGbC,QACEX,KAAM,YACNY,WAAY,eACZC,QAAS,mBAGXC,IACEd,KAAM,cAGRe,IACEf,KAAM,cAGRgB,IACEhB,KAAM,YACNG,KAAM,WAGRc,GACEjB,KAAM,SACNkB,KAAM,YACNC,MAAO,aAGTC,GACEpB,KAAM,UAGRqB,GACErB,KAAM,UAGRsB,IACEtB,KAAM,UAIV9I,QAAOqK,KAAKzB,GAAQpH,QAAQ,SAAU8F,GACpC,GAAIgD,GAAM1B,EAAOtB,GACbwB,EAAOwB,EAAIxB,KACXyB,WAEGD,GAAIxB,KAEX9I,OAAOqK,KAAKC,GAAK9I,QAAQ,SAAUgJ,GACjC,GAAI9G,GAAO4G,EAAIE,GACXC,EAAO/G,EAAKf,MAAM,KAClB+H,EAAWD,EAAK/E,OAEpB6E,GAAMI,MACJlJ,KAAMgJ,EAAK,IAAMD,EACjB1B,KAAM4B,EACND,KAAMA,MAIV7B,EAAOtB,IACLwB,KAAMA,EACNyB,MAAOA,KAOX3L,EAAQ8D,UAAUkI,GAAK,SAAU5F,EAAO6F,GACtC,GAAIC,GAAOjM,KAAKC,OAAOkG,MAGvB,OAFA8F,GAAKH,KAAKE,GACVhM,KAAKC,OAAOkG,GAAS8F,EACdjM,MAGTD,EAAQ8D,UAAUqI,KAAO,SAAU/F,EAAO6F,GAGxC,MAFAA,GAAQG,OAAQ,EAChBnM,KAAK+L,GAAG5F,EAAO6F,GACRhM,MAGTD,EAAQ8D,UAAUuI,IAAM,SAAUjG,EAAO6F,GACvC,GAAqB,kBAAV7F,GAAsB,CAC/B6F,EAAU7F,CACV,KAAKA,IAASnG,MAAKC,OACjBD,KAAKoM,IAAIjG,EAAO6F,EAElB,OAAOhM,MAMT,IAHA,GAAIiM,GAAOjM,KAAKC,OAAOkG,GACnBkD,EAAM4C,EAAKtI,OAER0F,GAAO,GACR2C,IAAYC,EAAK5C,IACnB4C,EAAKnI,MAAMuF,EAAK,EAIpB,OAAOrJ,OAGTD,EAAQ8D,UAAUwI,KAAO,WACvB,GAAIT,GAAOhI,MAAMC,UAAUe,MAAM5D,KAAKsL,WAClCnG,EAAQyF,EAAK/E,QACboF,EAAOjM,KAAKC,OAAOkG,MAMvB,OAJA8F,GAAKtJ,QAAQ,SAAUqJ,GACrBA,EAAQO,MAAMvM,KAAM4L,IACpB1B,KAAKlK,OAEAA,MAMTE,EAAM2D,UAAUuD,aAAe,SAAUqB,GACvC,GAAI+D,EAEJ,IAAI/D,EAAS,CAKX,IAJA+D,EAAOxM,KAAKoH,eAEZqB,EAAUA,EAAQgE,cAEXD,GAAQA,EAAK/D,UAAYA,GAC9B+D,EAAOA,EAAKvE,aAGd,OAAQuE,IAAQA,EAAK/D,UAAYA,EAC7B+D,EACA,KAIJ,IAFAA,EAAOhL,SAASkL,eAAeC,UAExBH,GAAQA,EAAKlD,WAAa9H,SAASiI,cACxC+C,EAAOA,EAAK9C,UAGd,OAAO8C,IAIXtM,EAAM2D,UAAUyD,aAAe,WAC7B,MAAOtH,MAAK4M,UAAU,YAGxB1M,EAAM2D,UAAU2D,eAAiB,WAC/B,MAAOxH,MAAK4M,UAAU,cAGxB1M,EAAM2D,UAAU6D,gBAAkB,WAChC,MAAO1H,MAAK4M,UAAU,eAGxB1M,EAAM2D,UAAU+D,YAAc,WAC5B,MAAO5H,MAAK4M,UAAU,WAGxB1M,EAAM2D,UAAU+I,UAAY,SAAU3C,GAIpC,IAHA,GACIH,GADA0C,EAAOxM,KAAKoH,iBAGH,CACX,IAAKoF,EACH,KAKF,IAFA1C,EAAI0C,GAAQzC,EAAOyC,EAAK/D,QAAQuB,eAE5BF,GAAKA,EAAEG,OAASA,EAClB,MAAOuC,EAGTA,GAAOA,EAAKvE,cAGd,MAAO,OAGT/H,EAAM2D,UAAUgJ,QAAU,SAAUtL,GAC9BA,EAAGiH,UAAUD,OACfvI,KAAK8I,YAAYvH,IAEjBA,EAAGiH,UAAY,IACfxI,KAAK8I,YAAYvH,GACjBA,EAAGiH,UAAY,KAInBtI,EAAM2D,UAAUiJ,WAAa,WAC3B,GAAIC,GAAYvL,SAASkL,eACrBF,EAAOO,EAAUJ,UACjBK,EAASD,EAAUE,WAEvB,OAAIT,GAAKlD,WAAa9H,SAASiI,aACtB,GAGF+C,EAAKU,cAAc,EAAGF,IAG/B9M,EAAM2D,UAAUsJ,UAAY,WAC1B,GAAIJ,GAAYvL,SAASkL,eACrBF,EAAOO,EAAUJ,UACjBK,EAASD,EAAUE,WAEvB,OAAIT,GAAKlD,WAAa9H,SAASiI,aACtB,GAGF+C,EAAKU,cAAcF,EAAQR,EAAK7I,OAAS,IAGlDzD,EAAM2D,UAAUiF,YAAc,SAAUvH,GACtCA,EAAG6L,QACH5L,SAASkL,eAAeW,SAAS9L,GAAI,IAGvCrB,EAAM2D,UAAUyJ,UAAY,SAAU/L,GACpC,GAAIgM,GAAQ/L,SAASgM,cACjBT,EAAYjN,EAAO4M,cACvBa,GAAME,mBAAmBlM,GACzBgM,EAAMF,UAAS,GACfN,EAAUW,kBACVX,EAAUY,SAASJ,IAGrBrN,EAAM2D,UAAUC,MAAQ,SAAUvC,GAChC,GAAIwL,GAAYvL,SAASkL,eACrBF,EAAOO,EAAUJ,UACjBK,EAASD,EAAUE,YACnBM,EAAQ/L,SAASgM,cACjBI,EAAchK,MAAMC,UAAUgK,QAAQ7M,KAAKO,EAAGmI,WAAWoE,WAAYvM,EAEzEgM,GAAMQ,SAASxM,EAAGmI,WAAYkE,GAC9BL,EAAMS,OAAOxB,EAAMQ,EAEnB,IAAIiB,GAAOV,EAAMW,iBAIjB,OAFA3M,GAAGmI,WAAWd,aAAaqF,EAAM1M,GAE1BA,GAGTrB,EAAM2D,UAAUsK,KAAO,WACrB,GACIZ,GADAR,EAAYvL,SAASkL,cAGpBK,KAIDA,EAAUqB,aACZb,EAAQR,EAAUsB,WAAW,IAG/BrO,KAAKsO,OAASf,IAGhBrN,EAAM2D,UAAU0K,QAAU,WACxB,GAAIhB,GAAQvN,KAAKsO,MAEjB,IAAIf,EAAO,CACT,GAAIiB,GAAIhN,SAASgM,cACbT,EAAYvL,SAASkL,cAEzB8B,GAAET,SAASR,EAAMkB,eAAgBlB,EAAMmB,aACvCF,EAAER,OAAOT,EAAMoB,aAAcpB,EAAMqB,WACnC7B,EAAUW,kBACVX,EAAUY,SAASa,KAIvBtO,EAAM2D,UAAUgL,cAAgB,SAAUtN,GACxC,GAAIwL,GAAYjN,EAAO4M,eACnBa,EAAQ/L,SAASgM,aACrBD,GAAME,mBAAmBlM,GACzBwL,EAAUW,kBACVX,EAAUY,SAASJ,IAGrBrN,EAAM2D,UAAUiL,cAAgB,SAAUvN,GACxC,GAAIwL,GAAYvL,SAASkL,eACrBa,EAAQR,EAAUsB,WAAW,EAEjCd,GAAMwB,iBAENxB,EAAMyB,WAAWzN,IAMnBnB,EAAWyD,UAAU7B,IAAM,SAAU0B,GACnC,GAAkB,kBAAPA,GACT,KAAM,IAAIuL,OAAM,yCAKlB,OAFAjP,MAAKK,WAAWyL,KAAKpI,GAEd1D,MAGTI,EAAWyD,UAAUqL,KAAO,SAAUzL,EAAK0L,GACzC,GAAIzL,GAAK1D,KAAKoP,QAAQpP,KAAKK,WAC3BqD,GAAG1C,KAAKyC,EAAK0L,IAGf/O,EAAWyD,UAAUuL,QAAU,SAAUC,GACvC,MAAO,UAAUF,GACf,GAAI7D,GAAI,EAEJpF,EAAO,SAAWoJ,GACpB,GAAIA,EACF,MAAOH,GAAGG,EAGZ,IAAI5L,GAAK2L,EAAI/D,IAEb,KAAK5H,EACH,MAAOyL,IAGT,KACEzL,EAAG1C,KAAKhB,KAAMkG,GACd,MAAOjD,GACPkM,EAAGlM,KAEJiH,KAAKlK,KAERkG,OAUJ5F,EAAKuD,UAAU0L,IAAM,SAAUrI,EAAKsI,GAGlC,MAFAxP,MAAKU,IAAIwG,GAAOsI,EAChBxP,KAAKQ,UAAW,EACTR,MAGTM,EAAKuD,UAAU4L,KAAO,SAAUvI,EAAKsI,GAKnC,IAJA,GAAIhE,GAAOvK,EAAM6C,MAAMoD,EAAK,KACxBwI,EAAOlE,EAAKmE,MACZlP,EAAOT,KAAKS,KAETyG,EAAMsE,EAAK3E,SAEdpG,EADgBmP,SAAdnP,EAAKyG,GACAzG,EAAKyG,MAELzG,EAAKyG,EAShB,OALIzG,GAAKiP,KAAUF,IACjBxP,KAAKQ,UAAW,EAChBC,EAAKiP,GAAQF,GAGRxP,MAGTM,EAAKuD,UAAUgM,IAAM,SAAU3I,GAC7B,GAAIlH,KAAKU,IAAIwG,GACX,MAAOlH,MAAKU,IAAIwG,EAMlB,KAHA,GAAIsE,GAAOvK,EAAM6C,MAAMoD,EAAK,KACxBzG,EAAOT,KAAKS,KAETyG,EAAMsE,EAAK3E,SAAS,CACzB,GAAa+I,SAATnP,EACF,MAEAA,GAAOA,EAAKyG,GAIhB,MAAOzG,IAGTH,EAAKuD,UAAUiM,OAAS,WACtB,GAAIpP,GAAMV,KAAKU,GASf,OAPAS,QAAOqK,KAAK9K,GAAKiC,QAAQ,SAAUuE,GACjClH,KAAKyP,KAAKvI,EAAKxG,EAAIwG,KACnBgD,KAAKlK,OAEPA,KAAKQ,UAAW,EAChBR,KAAKU,OAEEV,MAGTM,EAAKuD,UAAUkM,OAAS,WACtB,MAAO9O,GAAMqD,MAAMtE,KAAKS,OAO1BE,EAAQkD,UAAUmM,KAAO,WACvB,GAAIpP,IACF6G,cACAwI,aAGExP,EAAOT,KAAKS,KAEZyP,IAEJ/O,QAAOqK,KAAK/K,GAAMkC,QAAQ,SAAUC,GAClCsN,EAAetN,GAAQ,IAGzB5C,KAAKmQ,MAAMnQ,KAAKuB,GAAIX,EAAWsP,GAE/B/O,OAAOqK,KAAK0E,GAAgBvN,QAAQ,SAAUC,SACrCnC,GAAKmC,KAGd5C,KAAKY,UAAYA,GAGnBD,EAAQkD,UAAUsM,MAAQ,SAAU5O,EAAIX,EAAWsP,GACjD,GAAIzH,GAAUlH,EAAGkH,QAAQuB,cACrBpH,EAAOrB,EAAGsI,aAAa,QACvBpJ,EAAOT,KAAKS,KAAKmC,GACjBmH,EAAS/J,KAAK+J,OAAOtB,EAEzB,OAAKsB,IAODnH,SACKsN,GAAetN,GAGnBnC,IACEmC,IACHA,EAAO5C,KAAKe,QAAQqP,WAGtB3P,EAAO,GAAIH,GAAKsC,GAChBnC,EAAK8O,IAAI,MAAO9G,GAChBzI,KAAKS,KAAKmC,GAAQnC,EAElBc,EAAGG,aAAa,OAAQjB,EAAKF,KAG/BI,EAAQoJ,EAAOE,MAAMjJ,KAAKhB,KAAMuB,EAAId,EAAMG,EAAWsP,GAErDnG,EAAO2B,MAAM/I,QAAQ,SAAUkC,GAC7BlE,EAAQkE,EAAKoF,MAAMjJ,KAAKhB,KAAMuB,EAAId,EAAMoE,IACxCqF,KAAKlK,OAEHS,EAAKD,WACPC,EAAKqP,SACL9P,KAAKqM,KAAK,UAAW5L,IAGhBA,OAjCLQ,GAAMuC,KAAKjC,EAAG6H,SAAU,SAAU7H,GAChCvB,KAAKmQ,MAAM5O,EAAIX,EAAWsP,IAC1BhG,KAAKlK,QAkCXW,EAAQ0G,QAAU,SAAU9F,EAAId,EAAMG,EAAWsP,GAC/C,GAAI/H,KAEJlH,GAAMuC,KAAKjC,EAAG6H,SAAU,SAAUiH,GAChC,GAAItG,GAAS/J,KAAK+J,OAAOsG,EAAM5H,QAAQuB,cAEvC,OAAKD,KAKCnJ,EAAUqP,SAASpC,QAAQpN,EAAKF,KACpCK,EAAUqP,SAASnE,KAAKrL,EAAKF,SAG3B,aAAagD,KAAKwG,EAAOE,OAC3B9B,EAAE2D,KAAK9L,KAAKmQ,MAAME,EAAOzP,EAAWsP,GAAgB3P,UATpDI,GAAQ2P,qBAAqBD,IAY/BnG,KAAKlK,OAEPS,EAAK8O,IAAI,QAAS3O,EAAU6G,WAAW9D,QACvClD,EAAK8O,IAAI,MAAO3L,MAAMC,UAAUiI,KAAKS,MAAM3L,EAAU6G,WAAYU,KAGnExH,EAAQ8G,WAAa,SAAUlG,EAAId,EAAMG,EAAWsP,GAClD,GAAI/H,KAEJlH,GAAMuC,KAAKjC,EAAG6H,SAAU,SAAUiH,GAChC,GAAItG,GAAS/J,KAAK+J,OAAOsG,EAAM5H,QAAQuB,cAEvC,OAAKD,QAKe,cAAhBA,EAAOE,MACT9B,EAAE2D,KAAK9L,KAAKmQ,MAAME,EAAOzP,EAAWsP,GAAgB3P,SALpDI,GAAQ2P,qBAAqBD,IAO/BnG,KAAKlK,OAEPS,EAAK8O,IAAI,QAAS3O,EAAU6G,WAAW9D,QACvClD,EAAK8O,IAAI,MAAO3L,MAAMC,UAAUiI,KAAKS,MAAM3L,EAAU6G,WAAYU,KAGnExH,EAAQ4G,UAAY,SAAUhG,EAAId,EAAMG,EAAWsP,GACjD,GAAIvI,KAEJ1G,GAAMuC,KAAKjC,EAAG6H,SAAU,SAAUiH,GAChC,GAAItG,GAAS/J,KAAK+J,OAAOsG,EAAM5H,QAAQuB,cAEvC,OAAKD,QAKe,WAAhBA,EAAOE,MACTtC,EAAOmE,KAAK9L,KAAKmQ,MAAME,EAAOzP,EAAWsP,GAAgB3P,SALzDI,GAAQ2P,qBAAqBD,IAO/BnG,KAAKlK,OAEPS,EAAK8O,IAAI,SAAU5H,IAGrBhH,EAAQgH,OAAS,SAAUpG,EAAId,GAC7B,GAAIuM,GAASrM,EAAQ4P,UAAUhP,EAC/Bd,GAAK8O,IAAI,QAASvC,EAAOwD,OACzB/P,EAAK8O,IAAI,MAAOvC,EAAOyD,MAGzB9P,EAAQ+P,UAAY,SAAUnP,EAAId,EAAMoE,GACtC,GAAI2K,GAAMjO,EAAGsI,aAAahF,EAAKjC,KAC/BnC,GAAK8O,IAAI1K,EAAKjC,KAAM4M,IAGtB7O,EAAQgQ,QAAU,SAAUpP,EAAId,EAAMoE,GACpC,GAAI2K,GAAMjO,EAAGsI,aAAa,QAAUhF,EAAKjC,KACzCnC,GAAK8O,IAAI1K,EAAKjC,KAAM4M,IAGtB7O,EAAQmK,QAAU,SAAUvJ,EAAId,EAAMoE,GACpC,GAAIuF,GAAO7I,EAAG8G,aAAe9G,EAAG+G,SAChC7H,GAAK8O,IAAI1K,EAAKjC,KAAMwH,IAGtBzJ,EAAQ2P,qBAAuB,SAAU/O,GACvC,GAAI6I,GAAO7I,EAAG8G,aAAe9G,EAAG+G,UAC5BkE,EAAOhL,SAASoP,eAAexG,EACnC7I,GAAG0G,cAAc4I,aAAarE,EAAMjL,IAGtCZ,EAAQ4P,UAAY,SAAUhP,GAc5B,IAbA,GACIuP,GAAYC,EAAYrQ,EADxBuH,EAAgB1G,EAAGmI,WAEnBsD,GACFwD,MAAO,EACPC,IAAK,GAGHO,EAAQ,WACV,MAAO/I,IACFA,EAAcqB,WAAa9H,SAASiI,eACnCxB,EAAc4B,aAAa,SAG5BmH,KACL/I,EAAgBA,EAAcA,aAahC,OAVIA,KACFvH,EAAMc,SAASC,cAAc,OAC7BuL,EAAOwD,MAAQvI,EAAcO,UAAUqF,QAAQtM,EAAG0P,WAClDH,EAAa7I,EAAcO,UAAU0I,OAAO,EAAGlE,EAAOwD,OACtD9P,EAAI8H,UAAYsI,EAChBC,EAAarQ,EAAI2H,aAAe3H,EAAI4H,WAAa,GACjD0E,EAAOwD,OAASM,EAAWnN,OAASoN,EAAWpN,OAC/CqJ,EAAOyD,IAAMzD,EAAOwD,OAASjP,EAAG8G,aAAe9G,EAAG+G,WAAa,IAAI3E,QAG9DqJ,GAGTrM,EAAQkD,UAAUkM,OAAS,WA6BzB,QAASpI,GAAO/E,GACd,GAAI+E,GAASlH,EAAKmC,GACduO,EAAIxJ,GAAUA,EAAOoI,YAIzB,OAFAoB,GAAEvO,KAAOA,EAEFuO,EAlCT,GAAIvQ,GAAYZ,KAAKY,UACjBqP,EAAWrP,EAAUqP,SACrBxI,EAAa7G,EAAU6G,WACvBhH,EAAOT,KAAKS,KAEZ2Q,GACFnB,YACAxI,cA8BF,OA3BAwI,GAAStN,QAAQ,SAAUC,GACzB,GAAIyE,GAAU5G,EAAKmC,GACfuO,EAAI9J,GAAWA,EAAQ0I,YAC3BoB,GAAEvO,KAAOA,EACTwO,EAAKnB,SAASnE,KAAKqF,KAGrB1J,EAAW9E,QAAQ,SAAUC,GAC3B,GAAI2E,GAAY9G,EAAKmC,GACjBuO,EAAI5J,GAAaA,EAAUwI,YAE/BoB,GAAEvO,KAAOA,EAETuO,EAAExJ,QAAUwJ,EAAExJ,YAAcvD,IAAIuD,GAEhCyJ,EAAK3J,WAAWqE,KAAKqF,KAYhBC,GAKTvQ,EAAYgD,UAAUwN,SAAW,SAAUD,GACzC,GAAI7P,GAAKvB,KAAKuB,GACV0O,EAAWmB,EAAKnB,SAChBxI,EAAa2J,EAAK3J,UAEtBwI,GAAStN,QAAQ,SAAU0E,EAASiE,GAClC,GAGIA,GAAG/D,EAAW+J,EAHdC,EAAWhQ,EAAGiQ,cAAc,UAAYnK,EAAQzE,KAAO,MACvDsG,EAAO+G,EAAS3E,EAAI,GACpBmG,EAAQvI,GAAQ3H,EAAGiQ,cAAc,UAAYtI,EAAKtG,KAAO,KAQ7D,KALK2O,IACHA,EAAW/P,SAASC,cAAc4F,EAAQoE,KAC1C8F,EAAS7P,aAAa,OAAQ2F,EAAQzE,OAGnC0I,EAAIjE,EAAQmJ,MAAOlF,EAAIjE,EAAQoJ,IAAKnF,GAAK,EAC5C/D,EAAYE,EAAW6D,GACvBgG,EAAaC,EAASC,cAAc,UAAYjK,EAAU3E,KAAO,MAE5D0O,IACHA,EAAa9P,SAASC,cAAc8F,EAAUkE,KAC9C6F,EAAW5P,aAAa,OAAQ6F,EAAU3E,OAG5C/B,EAAY6Q,YAAY1Q,KAAKhB,KAAMsR,EAAY/J,GAC/C1G,EAAY8Q,aAAa3Q,KAAKhB,KAAMsR,EAAY/J,GAE3C+J,EAAWrJ,eACdsJ,EAAS5I,YAAY2I,EAIpBC,GAAStJ,gBACRwJ,EACFA,EAAMxJ,cAAcW,aAAa2I,EAAUE,EAAM5I,aAEjD7I,KAAKuB,GAAGoH,YAAY4I,KAGxBrH,KAAKlK,OAEPA,KAAK+B,eAGPlB,EAAY8Q,aAAe,SAAUpQ,EAAId,GACvC,GAAI2J,GAAO7I,EAAG8G,aAAe9G,EAAG+G,UAC5BX,EAASlH,EAAKkH,WACdiK,EAAO,GACPC,EAAS,CAEblK,GAAOhF,QAAQ,SAAUlC,GACvB,GAAIqR,GAAUvQ,EAAGiQ,cAAc,UAAY/Q,EAAKmC,KAAO,KAElDkP,KACHA,EAAUtQ,SAASC,cAAchB,EAAKgL,KACtCqG,EAAQpQ,aAAa,OAAQjB,EAAKmC,OAGpC/B,EAAY6Q,YAAY1Q,KAAKhB,KAAM8R,EAASrR,GAEhBmP,SAAxBkC,EAAQzJ,YACVyJ,EAAQxJ,UAAY8B,EAAK8G,OAAOzQ,EAAK+P,MAAO/P,EAAKgQ,IAAMhQ,EAAK+P,OAE5DsB,EAAQzJ,YAAc+B,EAAK8G,OAAOzQ,EAAK+P,MAAO/P,EAAKgQ,IAAMhQ,EAAK+P,OAGhEoB,GAAQxH,EAAK8G,OAAOW,EAAQpR,EAAK+P,MAAQqB,GACrCC,EAAQb,UAEZY,EAASpR,EAAKgQ,KACdvG,KAAKlK,OAEP4R,GAAQxH,EAAK8G,OAAOW,EAAQzH,EAAKzG,OAASkO,GAE1CtQ,EAAGiH,UAAYoJ,GAGjB/Q,EAAY6Q,YAAc,SAAUnQ,EAAId,GACtC,GAAIsJ,GAAS/J,KAAK+J,OAAOtJ,EAAKgL,IAE9B1B,GAAO2B,MAAM/I,QAAQ,SAAUkC,GAC7BhE,EAAYgE,EAAKoF,MAAMjJ,KAAKhB,KAAMuB,EAAId,EAAMoE,MAIhDhE,EAAY6P,UAAY,SAAUnP,EAAId,EAAMoE,GAC1CtD,EAAGG,aAAamD,EAAKjC,KAAMnC,EAAKoE,EAAKjC,QAGvC/B,EAAY8P,QAAU,SAAUpP,EAAId,EAAMoE,GACxCtD,EAAGG,aAAa,QAAUmD,EAAKjC,KAAMnC,EAAKoE,EAAKjC,QAGjD/B,EAAYiK,QAAU,SAAUvJ,EAAId,EAAMoE,GACjB+K,SAAnBrO,EAAG8G,YACL9G,EAAG+G,UAAY7H,EAAKoE,EAAKjC,MAEzBrB,EAAG8G,YAAc5H,EAAKoE,EAAKjC,MAG/B,IAAIvB,IACF+O,QAAS,WACP,MAAO,uCAAuCjM,QAAQ,QAAS,SAAU4N,GACvE,GAAIvD,GAAoB,GAAhBwD,KAAKC,SAAgB,EAAGC,EAAU,MAANH,EAAYvD,EAAS,EAAJA,EAAU,CAC/D,OAAO0D,GAAEC,SAAS,OAIxBrR,GAAO+C,UAAY1C,OAAOC,OAAOrB,EAAQ8D,WACzC5C,EAAMC,MAAMJ,EAAO+C,UAAWzD,EAAWyD,WACzC5C,EAAMC,MAAMJ,EAAO+C,UAAWlD,EAAQkD,WACtC5C,EAAMC,MAAMJ,EAAO+C,UAAWhD,EAAYgD,WA8B1C/C,EAAO+C,UAAUuO,QAAU,WACzB,MAAOpS,MAAKoP,SACVnN,EAAYkG,EAAEnI,MACdiC,EAAY8G,OAAO/I,SAIvBc,EAAO+C,UAAUkG,OAASA,EAE1BjJ,EAAO+C,UAAU/B,WAAa,WAC5B,GAAIP,GAAKvB,KAAKuB,GACV2I,EAAO3I,EAAG6G,iBAAiB8B,KAAK3I,EAEpC2I,GAAK,UAAWlK,KAAKqS,UAAUnI,KAAKlK,OACpCkK,EAAK,QAASlK,KAAKgQ,KAAK9F,KAAKlK,OAC7BkK,EAAK,QAASlK,KAAK+B,YAAYmI,KAAKlK,OACpCkK,EAAK,OAAQlK,KAAK+B,YAAYmI,KAAKlK,OACnCkK,EAAK,QAASlK,KAAK+B,YAAYmI,KAAKlK,QAGtCc,EAAO+C,UAAUwO,UAAY,SAAUpP,GACrC,GACIQ,GADA2J,EAAQpN,KAAK6B,MAAMuF,cAGvB,OAAIgG,KAAUpN,KAAKuB,IAAM6L,IAAU5L,SAAS8Q,SAC1CrR,GAAM+B,aAAaC,IAIrBjD,KAAK+B,cAEL0B,EAAMtC,OAAOC,OAAOpB,KAAKsB,SACzBmC,EAAI0C,MAAQlD,EACZQ,EAAIqE,QAAU7G,EAAM+B,aAAakH,KAAK,KAAMjH,OAE5CjD,MAAKkP,KAAKzL,EAAK,SAAUR,GACnBA,GACFjD,KAAKqM,KAAK,QAASpJ,IAErBiH,KAAKlK,SAGTc,EAAO+C,UAAUgE,QAAU,WACzB,GAAIuB,GAAWpJ,KAAKuB,GAAG6H,SACnBmJ,EAAQnJ,EAAS,EACrB,OAAOA,GAASzF,QAAU,KACnB4O,EAAMlK,aAAekK,EAAMjK,WAAa,IAAIC,QAGrDzH,EAAO+C,UAAU9B,YAAc,WAC7B,GAAIwQ,GAAQvS,KAAKuB,GAAG6H,SAAS,EAE7B,KAAKmJ,EAAO,CACV,GAAIpK,GAAI3G,SAASC,cAAc,IAC/B8Q,GAAQ/Q,SAASC,cAAc,WAC/B0G,EAAEK,UAAY,+BACd+J,EAAM5J,YAAYR,GAClBnI,KAAKuB,GAAGoH,YAAY4J,GACpBvS,KAAKgQ,KAAKhQ,KAAKuB,IACfvB,KAAK6B,MAAMgL,QAAQ1E,GAGjBnI,KAAK6H,UACP7H,KAAKuB,GAAGI,UAAUC,IAAI,YAEtB5B,KAAKuB,GAAGI,UAAU6Q,OAAO,cAG1BxS"}