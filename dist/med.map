{"version":3,"file":"./dist/med.min.js","sources":["./dist/med.js"],"names":["window","Emitter","this","events","Caret","editor","Middleware","middleware","Data","id","modified","data","tmp","Observe","structure","Figure","figureTypes","registerFigureType","updateData","el","set","innerHTML","updateHTML","get","FigureType","name","options","HtmlBuilder","Editor","call","utils","mixin","Object","create","defaultOptions","context","document","createElement","setAttribute","classList","add","caret","bindEvents","handleEmpty","use","initContext","module","exports","define","amd","Med","getTextContent","node","text","nodeType","ELEMENT_NODE","textContent","innerText","TEXT_NODE","isEmpty","isTag","trim","isNotEmpty","tagName","toUpperCase","str","map","indexOf","isAllowedToHaveContent","isLastChild","parentELement","lastChild","removeEmptyElements","shouldIgnore","child","isType","each","children","removeChild","removeElement","parentElement","moveChildren","src","dest","Array","prototype","slice","appendChild","moveChildNodes","nodes","childNodes","types","s","getElementSchema","type","isElementNode","isTextNode","isAncestorOf","ancestor","parents","getParents","parentNode","push","nodeContentLength","length","lastNode","lastTextNode","lastElement","firstNode","firstTextNode","firstElement","isLastElementOf","container","isFirstElementOf","o1","o2","getOwnPropertyNames","forEach","desc","getOwnPropertyDescriptor","defineProperty","preventDefault","e","returnValue","os","userAgent","navigator","test","ctx","fn","isArrayLike","obj","split","separator","limit","re","RegExp","replace","clone","JSON","parse","stringify","equal","a","b","sort","join","prop","notEqual","hasOwnProperty","getType","schema","toLowerCase","keyboard","modifiers",224,91,93,18,17,16,8,9,13,20,27,32,37,38,39,40,"super","createNewParagraph","next","needToCreateElement","key","section","focusSection","shift","element","atElementEnd","prevent","insertBefore","nextSibling","focusTo","handleBackspace","atElementStart","selection","getSelection","paragraph","handleList","paragraphs","p","moveToStart","handleOthers","needToRemove","offset","firstChild","previous","previousElementSibling","focus","moveToEnd","previousSibling","previousIsBrTag","figure","handleBlockquote","handleEmptyParagraph","on","handleFigure","klass","removeActive","querySelector","remove","focusFigure","addEventListener","target","setTimeout","handleParagraph","shouldHandleThis","modifier","isCreateNewLineAction","createNewLine","event","code","keyCode","which","mod","ctrl","ctrlKey","option","alt","altKey","shiftKey","command","meta","metaKey","focusNode","focusElement","nextElement","focusParagraph","focusParagraphs","detail","focusDetail","els","querySelectorAll","body","refocus","focusOffset","select","removeExtraNodes","removeExtraNode","curr","prev","len","neetToCombine","appendData","removeInlineStyle","renameElements","names","h1","h2","h3","h4","h5","h6","blockquote","quoteTpye","ol","ul","li","href","title","i","br","keys","tag","attrs","attrName","attr","args","attrType","handler","list","once","_once","off","splice","emit","arguments","apply","focusType","elType","textBefore","substringData","textAfter","range","createRange","setStart","setEnd","removeAllRanges","addRange","collapseToStart","collapseToEnd","parentIndex","left","extractContents","save","rangeCount","getRangeAt","_range","restore","r","startContainer","startOffset","endContainer","endOffset","selectAllText","selectNodeContents","startNode","endNode","insertElement","deleteContents","insertNode","closestElement","toString","Error","exec","cb","compose","fns","err","bind","val","_set","last","pop","undefined","update","toJSON","sync","sections","shouldBeDelete","scan","getAttribute","checkAndRemoveStrangeElement","genName","handleUnknownElement","figureType","getFigureType","getOffset","start","end","attribute","dataset","content","createTextNode","replaceChild","beforeHTML","beforeText","check","outerHTML","substr","d","json","rules","parentType","shouldRemove","default","fromJSON","importData","buildHTML","docfrag","createDocumentFragment","html","createElements","createSections","createParagraphs","createFigure","createDetails","figureElement","pointer","initElement","format","c","Math","random","v","onKeydown","walk","first"],"mappings":"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"}